---
import '../../styles/global.css';
import LPUserBehaviorTracker from '../../components/LPUserBehaviorTracker';
import MetaPixelTracker from '../../components/MetaPixelTracker';

const title = "KI-Coaching | Marco Heer | Synclaro";
const description = "6 Monate Intensiv-Coaching: Werde zum Projektleiter, der mit KI und Automatisierung in Stunden schafft, was andere Wochen brauchen.";
---

<!doctype html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content={description} />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
    <!-- Fonts: Lokal via global.css -->

    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://synclaro.de/lp/coaching" />
  </head>

  <body class="min-h-screen bg-black text-white overflow-x-hidden">

    <!-- ============================================
         HERO SECTION - BOLD & FUTURISTIC
         ============================================ -->
    <section class="relative min-h-screen flex items-center justify-center overflow-hidden hero-section-mobile">

      <!-- Animated Background Grid -->
      <div class="absolute inset-0 opacity-20">
        <div class="absolute inset-0" style="background-image: linear-gradient(rgba(255,79,0,0.15) 1px, transparent 1px), linear-gradient(90deg, rgba(255,79,0,0.15) 1px, transparent 1px); background-size: 80px 80px;"></div>
      </div>

      <!-- Floating Orbs -->
      <div class="absolute top-1/4 right-0 w-[800px] h-[800px] bg-gradient-radial from-swiss-orange/30 via-swiss-orange/5 to-transparent rounded-full blur-3xl translate-x-1/2 animate-orb-float"></div>
      <div class="absolute bottom-0 left-0 w-[600px] h-[600px] bg-gradient-radial from-orange-600/20 via-transparent to-transparent rounded-full blur-3xl -translate-x-1/3 animate-orb-float-delayed"></div>

      <!-- Scanlines -->
      <div class="absolute inset-0 pointer-events-none opacity-[0.03]" style="background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255,255,255,0.1) 2px, rgba(255,255,255,0.1) 4px);"></div>

      <!-- Main Content -->
      <div class="relative z-10 container mx-auto px-4 sm:px-6 lg:px-12 py-12 sm:py-16 lg:py-20">
        <!-- Mobile: Hero V3 -->
        <div class="sm:hidden">

          <!-- PREHEADER -->
          <p class="text-[11px] text-gray-400 uppercase tracking-wider mb-2">
            Für Selbstständige & KMU, die KI nutzen wollen – ohne Tool-Chaos.
          </p>

          <!-- HEADLINE -->
          <h1 class="text-[1.6rem] font-black leading-[1.1] tracking-tight mb-3">
            KI, die dir im Alltag wirklich Arbeit abnimmt –
            <span class="bg-gradient-to-r from-swiss-orange to-orange-400 bg-clip-text text-transparent">mit System statt Hype.</span>
          </h1>

          <!-- SUBHEADLINE -->
          <p class="text-[14px] text-gray-300 leading-relaxed mb-3">
            In 6 Monaten baust du dir eine KI-Routine, die du sicher beherrschst – datenschutzbewusst und praxisnah.
          </p>

          <!-- GREIFBAR-Zeile -->
          <p class="text-[12px] text-gray-400 mb-4">
            <span class="text-swiss-orange font-medium">Zum Beispiel:</span> Anfragen & Angebote, E-Mails, Dokumentation, Reporting.
          </p>

          <!-- PROOF -->
          <div class="mb-4 flex items-center gap-2 p-3 bg-white/5 border border-swiss-orange/20">
            <div class="w-8 h-8 rounded-full bg-gradient-to-br from-swiss-orange to-orange-600 flex items-center justify-center text-sm font-bold flex-shrink-0">
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
              </svg>
            </div>
            <p class="text-[13px] text-gray-300">
              Bereits <span class="text-white font-semibold">150+ Selbstständige & Unternehmer</span> begleitet – verständlich, Schritt für Schritt.
            </p>
          </div>

          <!-- CTA BLOCK -->
          <button
            id="open-modal-hero-mobile"
            class="group w-full inline-flex flex-col items-center justify-center bg-swiss-orange text-white font-bold px-5 py-4 overflow-hidden transition-all duration-300 active:scale-[0.98] shadow-[0_0_30px_rgba(255,79,0,0.3)]"
          >
            <span class="flex items-center gap-2 text-[15px]">
              <span>Kostenlos prüfen lassen</span>
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
              </svg>
            </span>
          </button>

          <!-- MICROCOPY -->
          <p class="mt-2 text-center text-[11px] text-gray-500">
            2–3 Minuten · keine Zahlung · Rückmeldung innerhalb 24h
          </p>

        </div>

        <!-- Desktop Grid: Hero V3 -->
        <div class="hidden sm:grid lg:grid-cols-2 gap-8 lg:gap-12 items-center min-h-[80vh] py-8">

          <!-- Left: Text Content -->
          <div class="order-2 lg:order-1">

            <!-- PREHEADER -->
            <p class="text-sm text-gray-400 uppercase tracking-wider mb-3 opacity-0 animate-hero-fade-in" style="animation-delay: 0.3s;">
              Für Selbstständige & KMU, die KI nutzen wollen – ohne Tool-Chaos.
            </p>

            <!-- HEADLINE -->
            <h1 class="mb-4 opacity-0 animate-hero-fade-in" style="animation-delay: 0.35s;">
              <span class="block text-3xl sm:text-4xl lg:text-5xl font-black leading-[1.1] tracking-tight">
                KI, die dir im Alltag wirklich Arbeit abnimmt –
              </span>
              <span class="block text-3xl sm:text-4xl lg:text-5xl font-black leading-[1.1] tracking-tight mt-1">
                <span class="bg-gradient-to-r from-swiss-orange via-orange-400 to-swiss-orange bg-clip-text text-transparent">mit System statt Hype.</span>
              </span>
            </h1>

            <!-- SUBHEADLINE -->
            <p class="text-lg lg:text-xl text-gray-300 mb-4 opacity-0 animate-hero-fade-in" style="animation-delay: 0.4s;">
              In 6 Monaten baust du dir eine KI-Routine, die du sicher beherrschst – datenschutzbewusst und praxisnah.
            </p>

            <!-- GREIFBAR-Zeile -->
            <p class="text-base text-gray-400 mb-5 opacity-0 animate-hero-fade-in" style="animation-delay: 0.45s;">
              <span class="text-swiss-orange font-medium">Zum Beispiel:</span> Anfragen & Angebote, E-Mails, Dokumentation, Reporting.
            </p>

            <!-- PROOF -->
            <div class="mb-6 flex items-center gap-3 p-4 bg-white/5 border border-swiss-orange/20 opacity-0 animate-hero-fade-in" style="animation-delay: 0.5s;">
              <div class="w-10 h-10 rounded-full bg-gradient-to-br from-swiss-orange to-orange-600 flex items-center justify-center flex-shrink-0">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                </svg>
              </div>
              <p class="text-base text-gray-300">
                Bereits <span class="text-white font-semibold">150+ Selbstständige & Unternehmer</span> begleitet – verständlich, Schritt für Schritt.
              </p>
            </div>

            <!-- CTA BLOCK -->
            <div class="opacity-0 animate-hero-fade-in" style="animation-delay: 0.55s;">
              <button
                id="open-modal-hero"
                class="group relative inline-flex items-center bg-swiss-orange text-white font-bold px-10 py-4 text-lg overflow-hidden transition-all duration-500 hover:shadow-[0_0_60px_rgba(255,79,0,0.5)]"
              >
                <span class="absolute inset-0 bg-gradient-to-r from-orange-600 to-swiss-orange opacity-0 group-hover:opacity-100 transition-opacity duration-500"></span>
                <span class="relative z-10 flex items-center gap-3">
                  <span>Kostenlos prüfen lassen</span>
                  <svg class="w-5 h-5 group-hover:translate-x-2 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                  </svg>
                </span>
                <span class="absolute inset-0 border-2 border-swiss-orange"></span>
              </button>

              <!-- MICROCOPY -->
              <p class="mt-3 text-sm text-gray-500">
                2–3 Minuten · keine Zahlung · Rückmeldung innerhalb 24h
              </p>
            </div>
          </div>

          <!-- Right: Marco Image -->
          <div class="order-1 lg:order-2 relative opacity-0 animate-hero-fade-in flex flex-col gap-6" style="animation-delay: 0.4s;">

            <!-- Image Container -->
            <div class="relative">
              <!-- Decorative Frame -->
              <div class="absolute -inset-3 border border-swiss-orange/20 -z-10 animate-frame-pulse"></div>

              <!-- Corner Accents -->
              <div class="absolute -top-3 -left-3 w-8 h-8 border-t-2 border-l-2 border-swiss-orange"></div>
              <div class="absolute -top-3 -right-3 w-8 h-8 border-t-2 border-r-2 border-swiss-orange"></div>
              <div class="absolute -bottom-3 -left-3 w-8 h-8 border-b-2 border-l-2 border-swiss-orange"></div>
              <div class="absolute -bottom-3 -right-3 w-8 h-8 border-b-2 border-r-2 border-swiss-orange"></div>

              <!-- Image -->
              <div class="relative overflow-hidden bg-gradient-to-br from-gray-900 to-black">
                <img
                  src="/images/marco_new.png"
                  alt="Marco Heer"
                  class="w-full h-auto max-h-[450px] object-contain grayscale-[20%] contrast-[1.1]"
                />
                <!-- Gradient Overlay -->
                <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-60"></div>
                <div class="absolute inset-0 bg-gradient-to-r from-swiss-orange/10 to-transparent mix-blend-overlay"></div>

                <!-- Name Tag -->
                <div class="absolute bottom-4 left-4 right-4">
                  <div class="flex items-center gap-3 bg-black/80 backdrop-blur-sm border border-white/10 p-3">
                    <div class="w-1.5 h-10 bg-swiss-orange"></div>
                    <div>
                      <p class="font-black text-xl">Marco Heer</p>
                      <p class="text-gray-400 font-mono text-xs">Unternehmer, Ingenieur und Coach</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>

    </section>


    <!-- ============================================
         TESTIMONIALS SECTION
         ============================================ -->
    <section class="relative py-10 sm:py-20 lg:py-24 bg-gradient-to-b from-black via-gray-950 to-black overflow-hidden">
      <!-- Background accent -->
      <div class="absolute inset-0">
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-gradient-radial from-swiss-orange/5 to-transparent rounded-full"></div>
      </div>

      <div class="container mx-auto px-4 sm:px-6 lg:px-12 max-w-6xl relative z-10">

        <!-- MOBILE: Collapsible Testimonials -->
        <div class="md:hidden">
          <!-- Collapsed Header (always visible) -->
          <button
            id="testimonials-toggle"
            class="w-full flex items-center justify-between p-4 bg-white/5 border border-swiss-orange/40 rounded-lg mb-2 active:bg-white/10 transition-colors"
          >
            <div class="flex items-center gap-3">
              <div class="flex -space-x-2">
                <div class="w-8 h-8 rounded-full bg-gradient-to-br from-swiss-orange to-orange-600 flex items-center justify-center text-xs font-bold border-2 border-black">K</div>
                <div class="w-8 h-8 rounded-full bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center text-xs font-bold border-2 border-black">E</div>
                <div class="w-8 h-8 rounded-full bg-gradient-to-br from-amber-500 to-orange-500 flex items-center justify-center text-xs font-bold border-2 border-black">D</div>
                <div class="w-8 h-8 rounded-full bg-gradient-to-br from-orange-400 to-amber-500 flex items-center justify-center text-xs font-bold border-2 border-black">H</div>
              </div>
              <div class="text-left">
                <p class="text-sm font-semibold text-white">Teilnehmerberichte</p>
                <p class="text-xs text-gray-400">Zitate von Teilnehmern</p>
              </div>
            </div>
            <div class="flex items-center gap-2">
              <span id="testimonials-hint" class="text-[10px] text-swiss-orange/70 animate-pulse">Antippen</span>
              <svg id="testimonials-chevron" class="w-5 h-5 text-swiss-orange transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </div>
          </button>

          <!-- Expandable Content -->
          <div id="testimonials-content" class="hidden space-y-3 overflow-hidden">
            <!-- Mobile Testimonial 1: Karl -->
            <div class="p-4 bg-white/[0.03] border border-white/10 rounded-lg">
              <div class="flex items-center gap-3 mb-3">
                <div class="w-10 h-10 rounded-full bg-gradient-to-br from-swiss-orange to-orange-600 flex items-center justify-center font-bold">K</div>
                <div>
                  <p class="font-semibold text-white text-sm">Karl</p>
                  <p class="text-xs text-gray-500">Spenglerei, München</p>
                </div>
              </div>
              <p class="text-sm text-gray-300 leading-relaxed">
                „Es ist unglaublich, wie Claude Code meinen Alltag an Stellen, die ich vorher nicht kannte, jetzt mit Automatisierungen erleichtert. Mir war nie klar, dass KI wirklich so eine aktive Rolle in meiner Firma spielen könnte."
              </p>
            </div>

            <!-- Mobile Testimonial 2: Evelyn -->
            <div class="p-4 bg-white/[0.03] border border-white/10 rounded-lg">
              <div class="flex items-center gap-3 mb-3">
                <div class="w-10 h-10 rounded-full bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center font-bold">E</div>
                <div>
                  <p class="font-semibold text-white text-sm">Evelyn</p>
                  <p class="text-xs text-gray-500">Selbstständig, Baden-Württemberg</p>
                </div>
              </div>
              <p class="text-sm text-gray-300 leading-relaxed">
                „Ich bin zwar erst seit ein paar Stunden im Coaching, kann aber jetzt schon ein wichtiges Projekt zehn Mal schneller erledigen. Der Möbel-Design-Vertrieb meines Mannes profitiert auch bereits."
              </p>
            </div>

            <!-- Mobile Testimonial 3: Daniela -->
            <div class="p-4 bg-white/[0.03] border border-white/10 rounded-lg">
              <div class="flex items-center gap-3 mb-3">
                <div class="w-10 h-10 rounded-full bg-gradient-to-br from-amber-500 to-orange-500 flex items-center justify-center font-bold">D</div>
                <div>
                  <p class="font-semibold text-white text-sm">Daniela</p>
                  <p class="text-xs text-gray-500">Holzbau-GF, Baden-Württemberg</p>
                </div>
              </div>
              <p class="text-sm text-gray-300 leading-relaxed">
                „KI greift für mich auf mein ERP zu, analysiert Daten, schreibt Rechnungen und Zahlungserinnerungen und diskutiert mit mir die Automatisierungsstrategie für meinen Betrieb."
              </p>
            </div>

            <!-- Mobile Testimonial 4: Holger -->
            <div class="p-4 bg-white/[0.03] border border-white/10 rounded-lg">
              <div class="flex items-center gap-3 mb-3">
                <div class="w-10 h-10 rounded-full bg-gradient-to-br from-orange-400 to-amber-500 flex items-center justify-center font-bold">H</div>
                <div>
                  <p class="font-semibold text-white text-sm">Holger</p>
                  <p class="text-xs text-gray-500">Bauunternehmen-GF, NRW</p>
                </div>
              </div>
              <p class="text-sm text-gray-300 leading-relaxed">
                „Das Gruppencoaching trägt massiv dazu bei, dass ich KI-Integrationen in Zukunft autonom selber machen kann. Das Ganze erreicht einen Tiefgang, den ich mir nicht hätte ausmalen können."
              </p>
            </div>
          </div>
        </div>

        <!-- DESKTOP: Full Section Header -->
        <div class="hidden md:block text-center mb-10 sm:mb-14 scroll-reveal">
          <h2 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-black mb-3 sm:mb-4">
            Geteilte Meinungen <span class="text-swiss-orange">einiger Teilnehmer</span>
          </h2>
          <p class="text-base sm:text-lg text-gray-400 max-w-2xl mx-auto">
            Echte Zitate von Lernenden, mitten im Prozess
          </p>
        </div>

        <!-- DESKTOP: Testimonials Grid - 2x2 -->
        <div class="hidden md:grid md:grid-cols-2 gap-4 sm:gap-6">

          <!-- Testimonial 1: Karl -->
          <div class="scroll-reveal group relative bg-gradient-to-br from-gray-900/80 to-gray-950/80 border-2 border-swiss-orange/30 hover:border-swiss-orange/60 rounded-xl p-6 sm:p-8 transition-all duration-300">
            <!-- Quote Icon -->
            <div class="absolute top-4 right-4 text-swiss-orange/20 group-hover:text-swiss-orange/40 transition-colors">
              <svg class="w-10 h-10" fill="currentColor" viewBox="0 0 24 24">
                <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"/>
              </svg>
            </div>

            <!-- Person Info -->
            <div class="flex items-center gap-4 mb-5">
              <div class="w-14 h-14 rounded-full bg-gradient-to-br from-swiss-orange to-orange-600 flex items-center justify-center text-xl font-bold shadow-lg shadow-swiss-orange/20">K</div>
              <div>
                <p class="font-bold text-white text-lg">Karl</p>
                <p class="text-sm text-gray-400">Spenglerei im Süden Münchens</p>
              </div>
            </div>

            <!-- Quote -->
            <p class="text-gray-300 leading-relaxed mb-5">
              „Es ist unglaublich, wie Claude Code meinen Alltag an Stellen, die ich vorher nicht kannte, jetzt mit Automatisierungen erleichtert. Ich dachte immer, man könnte hier nur mit ChatGPT mal ein Gespräch führen. Mir war nie klar, dass KI wirklich so eine aktive Rolle in meiner Firma spielen könnte und dabei echte Aufgaben übernimmt, wie sie vorher nur von Mitarbeitern getätigt werden konnten."
            </p>

            <!-- Highlights -->
            <div class="flex flex-wrap gap-2">
              <span class="px-3 py-1 bg-swiss-orange/10 border border-swiss-orange/30 rounded-full text-xs text-swiss-orange font-medium">Automatisierungen im Alltag</span>
              <span class="px-3 py-1 bg-swiss-orange/10 border border-swiss-orange/30 rounded-full text-xs text-swiss-orange font-medium">KI übernimmt echte Aufgaben</span>
            </div>
          </div>

          <!-- Testimonial 2: Evelyn -->
          <div class="scroll-reveal group relative bg-gradient-to-br from-gray-900/80 to-gray-950/80 border-2 border-swiss-orange/30 hover:border-swiss-orange/60 rounded-xl p-6 sm:p-8 transition-all duration-300">
            <!-- Quote Icon -->
            <div class="absolute top-4 right-4 text-swiss-orange/20 group-hover:text-swiss-orange/40 transition-colors">
              <svg class="w-10 h-10" fill="currentColor" viewBox="0 0 24 24">
                <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"/>
              </svg>
            </div>

            <!-- Person Info -->
            <div class="flex items-center gap-4 mb-5">
              <div class="w-14 h-14 rounded-full bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center text-xl font-bold shadow-lg shadow-orange-500/20">E</div>
              <div>
                <p class="font-bold text-white text-lg">Evelyn</p>
                <p class="text-sm text-gray-400">Selbstständig, Baden-Württemberg</p>
              </div>
            </div>

            <!-- Quote -->
            <p class="text-gray-300 leading-relaxed mb-5">
              „Du bist der Erste, der vernünftig mit mir kommuniziert hat. Ich bin zwar erst seit ein paar Stunden im Coaching, kann aber jetzt schon ein mir sehr wichtiges privates Projekt mindestens zehn Mal schneller und auch um ein Vielfaches besser erledigen. Der Möbel-Design-Vertrieb meines Mannes profitiert auch bereits von den ersten gebauten Automatisierungen."
            </p>

            <!-- Highlights -->
            <div class="flex flex-wrap gap-2">
              <span class="px-3 py-1 bg-swiss-orange/10 border border-swiss-orange/30 rounded-full text-xs text-swiss-orange font-medium">10x schneller</span>
              <span class="px-3 py-1 bg-swiss-orange/10 border border-swiss-orange/30 rounded-full text-xs text-swiss-orange font-medium">Erste Automatisierungen nach Stunden</span>
            </div>
          </div>

          <!-- Testimonial 3: Daniela -->
          <div class="scroll-reveal group relative bg-gradient-to-br from-gray-900/80 to-gray-950/80 border-2 border-swiss-orange/30 hover:border-swiss-orange/60 rounded-xl p-6 sm:p-8 transition-all duration-300">
            <!-- Quote Icon -->
            <div class="absolute top-4 right-4 text-swiss-orange/20 group-hover:text-swiss-orange/40 transition-colors">
              <svg class="w-10 h-10" fill="currentColor" viewBox="0 0 24 24">
                <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"/>
              </svg>
            </div>

            <!-- Person Info -->
            <div class="flex items-center gap-4 mb-5">
              <div class="w-14 h-14 rounded-full bg-gradient-to-br from-amber-500 to-orange-500 flex items-center justify-center text-xl font-bold shadow-lg shadow-amber-500/20">D</div>
              <div>
                <p class="font-bold text-white text-lg">Daniela</p>
                <p class="text-sm text-gray-400">Holzbau-Geschäftsführerin, südl. Baden-Württemberg</p>
              </div>
            </div>

            <!-- Quote -->
            <p class="text-gray-300 leading-relaxed mb-5">
              „Es ist wirklich unglaublich, dass ich hier vor meinem Rechner sitze und KI für mich auf mein ERP zugreift, Daten analysiert, von denen ich gar nicht wusste, dass ich sie hatte. Rechnungen und Zahlungserinnerungen schreibt und rausschickt und mit mir diskutiert, welche weitere Automatisierungsstrategie wir in den nächsten Wochen für meinen Betrieb fahren sollten. Vielen Dank."
            </p>

            <!-- Highlights -->
            <div class="flex flex-wrap gap-2">
              <span class="px-3 py-1 bg-swiss-orange/10 border border-swiss-orange/30 rounded-full text-xs text-swiss-orange font-medium">ERP-Integration</span>
              <span class="px-3 py-1 bg-swiss-orange/10 border border-swiss-orange/30 rounded-full text-xs text-swiss-orange font-medium">Automatische Rechnungen</span>
            </div>
          </div>

          <!-- Testimonial 4: Holger -->
          <div class="scroll-reveal group relative bg-gradient-to-br from-gray-900/80 to-gray-950/80 border-2 border-swiss-orange/30 hover:border-swiss-orange/60 rounded-xl p-6 sm:p-8 transition-all duration-300">
            <!-- Quote Icon -->
            <div class="absolute top-4 right-4 text-swiss-orange/20 group-hover:text-swiss-orange/40 transition-colors">
              <svg class="w-10 h-10" fill="currentColor" viewBox="0 0 24 24">
                <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"/>
              </svg>
            </div>

            <!-- Person Info -->
            <div class="flex items-center gap-4 mb-5">
              <div class="w-14 h-14 rounded-full bg-gradient-to-br from-orange-400 to-amber-500 flex items-center justify-center text-xl font-bold shadow-lg shadow-orange-400/20">H</div>
              <div>
                <p class="font-bold text-white text-lg">Holger</p>
                <p class="text-sm text-gray-400">Bauunternehmen-GF, Nordrhein-Westfalen</p>
              </div>
            </div>

            <!-- Quote -->
            <p class="text-gray-300 leading-relaxed mb-5">
              „Ich hatte schon vor dem Gruppencoaching mit Marco im Rahmen eines Done-For-You-Services zusammengearbeitet – damals eine umfassende KI-Integration mit VoiceBot, die meinen Ingenieuren seit Wochen hilft, ihren Job besser zu machen. Das Gruppencoaching trägt jetzt massiv dazu bei, dass ich so etwas in Zukunft autonom selber machen kann. Das Ganze erreicht einen Tiefgang, den ich mir im Traum nicht hätte ausmalen können."
            </p>

            <!-- Highlights -->
            <div class="flex flex-wrap gap-2">
              <span class="px-3 py-1 bg-swiss-orange/10 border border-swiss-orange/30 rounded-full text-xs text-swiss-orange font-medium">VoiceBot-Integration</span>
              <span class="px-3 py-1 bg-swiss-orange/10 border border-swiss-orange/30 rounded-full text-xs text-swiss-orange font-medium">Autonome Fähigkeiten</span>
            </div>
          </div>

        </div>
      </div>
    </section>


    <!-- ============================================
         DAS PROGRAMM SECTION
         ============================================ -->
    <section class="relative py-16 sm:py-24 lg:py-32 bg-black overflow-hidden mobile-section-padding">
      <!-- Background -->
      <div class="absolute inset-0">
        <div class="absolute top-0 left-1/2 -translate-x-1/2 w-[600px] sm:w-[800px] lg:w-[1000px] h-[600px] sm:h-[800px] lg:h-[1000px] bg-gradient-radial from-swiss-orange/5 to-transparent rounded-full"></div>
      </div>

      <div class="container mx-auto px-4 sm:px-6 lg:px-12 max-w-6xl relative z-10">
        <!-- Section Header -->
        <div class="text-center mb-10 sm:mb-16 lg:mb-20 scroll-reveal">
          <span class="inline-block px-3 sm:px-4 py-2 bg-white/5 border border-white/10 text-gray-400 font-mono text-[10px] sm:text-xs tracking-[0.2em] sm:tracking-[0.3em] uppercase mb-4 sm:mb-6">
            Das Programm
          </span>
          <h2 class="text-2xl sm:text-3xl md:text-5xl lg:text-6xl font-black mb-4 sm:mb-6 px-2">
            6 Monate. <span class="text-swiss-orange block sm:inline">2 Stunden pro Woche.</span>
          </h2>
          <p class="text-base sm:text-lg lg:text-xl text-gray-400 max-w-3xl mx-auto px-2">
            Hochverdichtet. Praxisnah. Mit echter Begleitung statt nur Videokursen.
          </p>
        </div>

        <!-- Program Features - Consistent Mobile Design -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 lg:gap-8 mb-10 sm:mb-16">
          <!-- Live Sessions -->
          <div class="scroll-reveal relative bg-gradient-to-br from-gray-900 to-gray-950 border border-white/10 rounded-lg sm:rounded-none p-5 sm:p-6 lg:p-8">
            <div class="flex items-center gap-3 sm:gap-4 mb-4 sm:mb-6">
              <div class="w-12 h-12 sm:w-14 sm:h-14 bg-swiss-orange rounded-lg flex items-center justify-center flex-shrink-0">
                <svg class="w-6 h-6 sm:w-7 sm:h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                </svg>
              </div>
              <div>
                <h3 class="text-lg sm:text-xl lg:text-2xl font-black">Live-Sessions</h3>
                <p class="text-swiss-orange font-mono text-xs sm:text-sm">2h / Woche</p>
              </div>
            </div>
            <p class="text-sm sm:text-base text-gray-400 mb-4">
              Kein passives Zuschauen. Echte Interaktion, echte Projekte, echte Fragen. Von den Grundlagen bis zu komplexen Agentenschwärmen.
            </p>
            <div class="flex flex-wrap gap-2">
              <span class="px-2 sm:px-3 py-1 bg-swiss-orange/10 text-swiss-orange text-xs sm:text-sm font-mono">Live</span>
              <span class="px-2 sm:px-3 py-1 bg-white/5 text-gray-400 text-xs sm:text-sm font-mono">Interaktiv</span>
              <span class="px-2 sm:px-3 py-1 bg-white/5 text-gray-400 text-xs sm:text-sm font-mono">Q&A</span>
            </div>
          </div>

          <!-- Video Material -->
          <div class="scroll-reveal relative bg-gradient-to-br from-gray-900 to-gray-950 border border-white/10 rounded-lg sm:rounded-none p-5 sm:p-6 lg:p-8" style="animation-delay: 0.1s;">
            <div class="flex items-center gap-3 sm:gap-4 mb-4 sm:mb-6">
              <div class="w-12 h-12 sm:w-14 sm:h-14 bg-swiss-orange rounded-lg flex items-center justify-center flex-shrink-0">
                <svg class="w-6 h-6 sm:w-7 sm:h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
              </div>
              <div>
                <h3 class="text-lg sm:text-xl lg:text-2xl font-black">10h Videomaterial</h3>
                <p class="text-swiss-orange font-mono text-xs sm:text-sm">On-Demand</p>
              </div>
            </div>
            <p class="text-sm sm:text-base text-gray-400 mb-4">
              Kompaktes Wissen zum Nachschauen – damit alle zu Beginn des Coachings auf dem gleichen Grundlagenstand sind.
            </p>
            <div class="flex flex-wrap gap-2">
              <span class="px-2 sm:px-3 py-1 bg-swiss-orange/10 text-swiss-orange text-xs sm:text-sm font-mono">Flexibel</span>
              <span class="px-2 sm:px-3 py-1 bg-white/5 text-gray-400 text-xs sm:text-sm font-mono">Strukturiert</span>
              <span class="px-2 sm:px-3 py-1 bg-white/5 text-gray-400 text-xs sm:text-sm font-mono">Praxis</span>
            </div>
          </div>

          <!-- 1:1 Sessions -->
          <div class="scroll-reveal relative bg-gradient-to-br from-gray-900 to-gray-950 border border-white/10 rounded-lg sm:rounded-none p-5 sm:p-6 lg:p-8" style="animation-delay: 0.2s;">
            <div class="flex items-center gap-3 sm:gap-4 mb-4 sm:mb-6">
              <div class="w-12 h-12 sm:w-14 sm:h-14 bg-swiss-orange rounded-lg flex items-center justify-center flex-shrink-0">
                <svg class="w-6 h-6 sm:w-7 sm:h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
              </div>
              <div>
                <h3 class="text-lg sm:text-xl lg:text-2xl font-black">2x 1:1 mit Marco</h3>
                <p class="text-swiss-orange font-mono text-xs sm:text-sm">Je 60 Min.</p>
              </div>
            </div>
            <p class="text-sm sm:text-base text-gray-400 mb-4">
              Persönliche Begleitung bei der Anwendung des Gelernten in deiner Situation. Für perfekte Umsetzung und garantierte Ergebnisse.
            </p>
            <div class="flex flex-wrap gap-2">
              <span class="px-2 sm:px-3 py-1 bg-swiss-orange/10 text-swiss-orange text-xs sm:text-sm font-mono">1:1</span>
              <span class="px-2 sm:px-3 py-1 bg-white/5 text-gray-400 text-xs sm:text-sm font-mono">Persönlich</span>
              <span class="px-2 sm:px-3 py-1 bg-white/5 text-gray-400 text-xs sm:text-sm font-mono">Garantie</span>
            </div>
          </div>
        </div>

        <!-- Timeline / Lernpfad - Fixed Mobile Layout -->
        <div class="scroll-reveal bg-gradient-to-r from-swiss-orange/5 via-transparent to-swiss-orange/5 border border-white/5 p-5 sm:p-8 lg:p-12">
          <h3 class="text-xl sm:text-2xl font-black mb-6 sm:mb-8 text-center">Der Lernpfad</h3>
          <!-- Mobile: Stack vertically for better readability -->
          <div class="hidden sm:grid sm:grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6">
            <div class="text-center">
              <div class="w-12 h-12 bg-swiss-orange text-white font-black flex items-center justify-center mx-auto mb-4">01</div>
              <h4 class="font-bold text-base mb-2">Grundlagen</h4>
              <p class="text-sm text-gray-500">Wie KI funktioniert, Fachbegriffe, Termini</p>
            </div>
            <div class="text-center">
              <div class="w-12 h-12 bg-swiss-orange text-white font-black flex items-center justify-center mx-auto mb-4">02</div>
              <h4 class="font-bold text-base mb-2">Werkzeuge</h4>
              <p class="text-sm text-gray-500">n8n, Supabase, GitHub, Netlify</p>
            </div>
            <div class="text-center">
              <div class="w-12 h-12 bg-swiss-orange text-white font-black flex items-center justify-center mx-auto mb-4">03</div>
              <h4 class="font-bold text-base mb-2">Praxis</h4>
              <p class="text-sm text-gray-500">Eigene Projekte, Learning by Doing</p>
            </div>
            <div class="text-center">
              <div class="w-12 h-12 bg-swiss-orange text-white font-black flex items-center justify-center mx-auto mb-4">04</div>
              <h4 class="font-bold text-base mb-2">Ergebnisse</h4>
              <p class="text-sm text-gray-500">Vollautomatisierung, echte Outcomes</p>
            </div>
          </div>
          <!-- Mobile: Horizontal list -->
          <div class="sm:hidden space-y-4">
            <div class="flex items-start gap-4">
              <div class="w-10 h-10 bg-swiss-orange text-white font-black text-sm flex items-center justify-center flex-shrink-0">01</div>
              <div>
                <h4 class="font-bold text-sm">Grundlagen</h4>
                <p class="text-xs text-gray-500">Wie KI funktioniert, Fachbegriffe, Termini</p>
              </div>
            </div>
            <div class="flex items-start gap-4">
              <div class="w-10 h-10 bg-swiss-orange text-white font-black text-sm flex items-center justify-center flex-shrink-0">02</div>
              <div>
                <h4 class="font-bold text-sm">Werkzeuge</h4>
                <p class="text-xs text-gray-500">n8n, Supabase, GitHub, Netlify</p>
              </div>
            </div>
            <div class="flex items-start gap-4">
              <div class="w-10 h-10 bg-swiss-orange text-white font-black text-sm flex items-center justify-center flex-shrink-0">03</div>
              <div>
                <h4 class="font-bold text-sm">Praxis</h4>
                <p class="text-xs text-gray-500">Eigene Projekte, Learning by Doing</p>
              </div>
            </div>
            <div class="flex items-start gap-4">
              <div class="w-10 h-10 bg-swiss-orange text-white font-black text-sm flex items-center justify-center flex-shrink-0">04</div>
              <div>
                <h4 class="font-bold text-sm">Ergebnisse</h4>
                <p class="text-xs text-gray-500">Vollautomatisierung, echte Outcomes</p>
              </div>
            </div>
          </div>
        </div>

        <!-- CTA -->
        <div class="text-center mt-10 sm:mt-16 scroll-reveal">
          <button
            id="open-modal-program"
            class="group inline-flex flex-col items-center bg-swiss-orange text-white font-bold px-8 sm:px-12 py-4 sm:py-5 text-base sm:text-xl hover:bg-orange-600 transition-all duration-300 hover:shadow-[0_0_60px_rgba(255,79,0,0.4)] w-full sm:w-auto justify-center cta-mobile-full"
          >
            <span class="flex items-center gap-3">
              <span>Unverbindlich bewerben</span>
              <svg class="w-5 h-5 sm:w-6 sm:h-6 group-hover:translate-x-2 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
              </svg>
            </span>
            <span class="text-xs font-normal opacity-80 mt-1">Die Bewerbung ist kostenfrei</span>
          </button>
        </div>
      </div>
    </section>


    <!-- ============================================
         TRANSFORMATION SECTION - DISTINCTIVE DESIGN
         ============================================ -->
    <section class="relative py-16 sm:py-24 lg:py-32 overflow-hidden mobile-section-padding" style="background: linear-gradient(180deg, #0a0a0a 0%, #1a0d05 30%, #1a0d05 70%, #0a0a0a 100%);">
      <!-- Animated Background Glow -->
      <div class="absolute inset-0 overflow-hidden">
        <!-- Large glowing orbs -->
        <div class="absolute top-0 left-1/4 w-[600px] h-[600px] bg-swiss-orange/10 rounded-full blur-[120px] animate-section-glow"></div>
        <div class="absolute bottom-0 right-1/4 w-[500px] h-[500px] bg-orange-600/10 rounded-full blur-[100px] animate-section-glow" style="animation-delay: -2s;"></div>

        <!-- Floating particles -->
        <div class="absolute top-20 left-10 w-2 h-2 bg-swiss-orange/40 rounded-full animate-float-particle"></div>
        <div class="absolute top-40 right-20 w-1.5 h-1.5 bg-swiss-orange/30 rounded-full animate-float-particle" style="animation-delay: -2s;"></div>
        <div class="absolute bottom-32 left-1/3 w-2 h-2 bg-orange-400/40 rounded-full animate-float-particle" style="animation-delay: -4s;"></div>
        <div class="absolute top-1/2 right-10 w-1 h-1 bg-swiss-orange/50 rounded-full animate-float-particle" style="animation-delay: -6s;"></div>
        <div class="absolute bottom-20 right-1/4 w-2.5 h-2.5 bg-swiss-orange/30 rounded-full animate-float-particle" style="animation-delay: -3s;"></div>
      </div>

      <!-- Grid Pattern with orange tint -->
      <div class="absolute inset-0 opacity-[0.03]" style="background-image: radial-gradient(circle at 1px 1px, #FF4F00 1px, transparent 0); background-size: 40px 40px;"></div>

      <!-- Horizontal glow line -->
      <div class="absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-swiss-orange/30 to-transparent"></div>
      <div class="absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-swiss-orange/30 to-transparent"></div>

      <div class="container mx-auto px-4 sm:px-6 lg:px-12 max-w-7xl relative z-10">
        <!-- Section Header -->
        <div class="text-center mb-12 sm:mb-16 lg:mb-20 scroll-reveal">
          <span class="inline-block px-3 sm:px-4 py-2 bg-swiss-orange/10 border border-swiss-orange/30 text-swiss-orange font-mono text-[10px] sm:text-xs tracking-[0.2em] sm:tracking-[0.3em] uppercase mb-4 sm:mb-6">
            Die Transformation
          </span>
          <h2 class="text-2xl sm:text-3xl md:text-5xl lg:text-6xl font-black mb-4 sm:mb-6 px-2">
            In 6 Monaten zum <span class="text-swiss-orange">Projektleiter</span>
          </h2>
          <p class="text-base sm:text-lg lg:text-xl text-gray-400 max-w-3xl mx-auto px-2">
            Werde einer der ganz wenigen, die KI nicht nur nutzen, sondern orchestrieren. Die nicht nur Tools kennen, sondern ganze Schwärme von Agenten dirigieren.
          </p>
        </div>

        <!-- Transformation Cards - Consistent Mobile Design -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 lg:gap-8 mb-12 sm:mb-16 lg:mb-20" style="perspective: 1000px;">
          <!-- Card 1: Ergebnisse -->
          <div class="scroll-reveal transformation-card group relative overflow-hidden border-l-4 border-l-swiss-orange sm:border-l-0" style="animation-delay: 0.1s;">
            <!-- Animated Border Gradient -->
            <div class="absolute inset-0 bg-gradient-to-r from-swiss-orange via-orange-400 to-swiss-orange opacity-0 group-hover:opacity-100 transition-opacity duration-700 blur-sm"></div>
            <div class="absolute inset-[1px] bg-gradient-to-b from-gray-900 to-gray-950 z-10"></div>

            <!-- Glowing Corner Accents (desktop only) -->
            <div class="absolute top-0 left-0 w-16 h-16 border-t-2 border-l-2 border-transparent group-hover:border-swiss-orange transition-all duration-500 z-20 hidden sm:block"></div>
            <div class="absolute bottom-0 right-0 w-16 h-16 border-b-2 border-r-2 border-transparent group-hover:border-swiss-orange transition-all duration-500 z-20 hidden sm:block"></div>

            <!-- Card Content -->
            <div class="relative z-20 p-6 sm:p-8">
              <!-- Icon Container - Consistent style -->
              <div class="w-14 h-14 sm:w-20 sm:h-20 mb-4 sm:mb-6 bg-swiss-orange/15 rounded-xl flex items-center justify-center">
                <svg class="w-7 h-7 sm:w-10 sm:h-10 text-swiss-orange" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13 10V3L4 14h7v7l9-11h-7z" />
                </svg>
              </div>

              <!-- Title -->
              <h3 class="text-xl sm:text-2xl font-black mb-4 sm:mb-6">Ergebnisse</h3>

              <!-- List Items -->
              <ul class="space-y-3 sm:space-y-4 text-gray-400 text-sm sm:text-base">
                <li class="flex items-start gap-3">
                  <span class="text-swiss-orange mt-0.5 sm:mt-1">&#10003;</span>
                  <span>Eigene Webseiten bauen, komplex und DSGVO-konform</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-swiss-orange mt-0.5 sm:mt-1">&#10003;</span>
                  <span>Individuelle Software, 100% auf dich zugeschnitten</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-swiss-orange mt-0.5 sm:mt-1">&#10003;</span>
                  <span>KI-Agenten, die Telefonie und Gespräche übernehmen</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-swiss-orange mt-0.5 sm:mt-1">&#10003;</span>
                  <span>85-90% deiner PC-Arbeit automatisiert</span>
                </li>
              </ul>
            </div>

            <!-- Hover Glow Effect -->
            <div class="absolute -bottom-20 -right-20 w-40 h-40 bg-swiss-orange/0 group-hover:bg-swiss-orange/20 rounded-full blur-3xl transition-all duration-700 z-0"></div>
          </div>

          <!-- Card 2: Denkweise -->
          <div class="scroll-reveal transformation-card group relative overflow-hidden border-l-4 border-l-swiss-orange/70 sm:border-l-0" style="animation-delay: 0.2s;">
            <!-- Animated Border Gradient -->
            <div class="absolute inset-0 bg-gradient-to-r from-orange-400 via-swiss-orange to-orange-400 opacity-0 group-hover:opacity-100 transition-opacity duration-700 blur-sm"></div>
            <div class="absolute inset-[1px] bg-gradient-to-b from-gray-900 to-gray-950 z-10"></div>

            <!-- Glowing Corner Accents (desktop only) -->
            <div class="absolute top-0 right-0 w-16 h-16 border-t-2 border-r-2 border-transparent group-hover:border-swiss-orange transition-all duration-500 z-20 hidden sm:block"></div>
            <div class="absolute bottom-0 left-0 w-16 h-16 border-b-2 border-l-2 border-transparent group-hover:border-swiss-orange transition-all duration-500 z-20 hidden sm:block"></div>

            <!-- Card Content -->
            <div class="relative z-20 p-6 sm:p-8">
              <!-- Icon Container - Consistent style, slight variation (rounded) -->
              <div class="w-14 h-14 sm:w-20 sm:h-20 mb-4 sm:mb-6 bg-swiss-orange/15 rounded-full sm:rounded-xl flex items-center justify-center">
                <svg class="w-7 h-7 sm:w-10 sm:h-10 text-swiss-orange" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                </svg>
              </div>

              <!-- Title -->
              <h3 class="text-xl sm:text-2xl font-black mb-4 sm:mb-6">Denkweise</h3>

              <!-- List Items -->
              <ul class="space-y-3 sm:space-y-4 text-gray-400 text-sm sm:text-base">
                <li class="flex items-start gap-3">
                  <span class="text-swiss-orange mt-0.5 sm:mt-1">&#10003;</span>
                  <span>Große Ziele in Teilziele zerlegen wie ein Projektleiter</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-swiss-orange mt-0.5 sm:mt-1">&#10003;</span>
                  <span>Ideen manifestieren und iterieren statt ewig planen</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-swiss-orange mt-0.5 sm:mt-1">&#10003;</span>
                  <span>KI als Zuhörer, Umsetzer und Sparringspartner nutzen</span>
                </li>
              </ul>
            </div>

            <!-- Hover Glow Effect -->
            <div class="absolute -top-20 -left-20 w-40 h-40 bg-swiss-orange/0 group-hover:bg-swiss-orange/20 rounded-full blur-3xl transition-all duration-700 z-0"></div>
          </div>

          <!-- Card 3: Werkzeuge -->
          <div class="scroll-reveal transformation-card group relative overflow-hidden border-l-4 border-l-swiss-orange/50 sm:border-l-0" style="animation-delay: 0.3s;">
            <!-- Animated Border Gradient -->
            <div class="absolute inset-0 bg-gradient-to-r from-swiss-orange via-orange-400 to-swiss-orange opacity-0 group-hover:opacity-100 transition-opacity duration-700 blur-sm"></div>
            <div class="absolute inset-[1px] bg-gradient-to-b from-gray-900 to-gray-950 z-10"></div>

            <!-- Glowing Corner Accents (desktop only) -->
            <div class="absolute top-0 left-0 w-16 h-16 border-t-2 border-l-2 border-transparent group-hover:border-swiss-orange transition-all duration-500 z-20 hidden sm:block"></div>
            <div class="absolute top-0 right-0 w-16 h-16 border-t-2 border-r-2 border-transparent group-hover:border-swiss-orange transition-all duration-500 delay-100 z-20 hidden sm:block"></div>
            <div class="absolute bottom-0 left-0 w-16 h-16 border-b-2 border-l-2 border-transparent group-hover:border-swiss-orange transition-all duration-500 delay-200 z-20 hidden sm:block"></div>
            <div class="absolute bottom-0 right-0 w-16 h-16 border-b-2 border-r-2 border-transparent group-hover:border-swiss-orange transition-all duration-500 delay-300 z-20 hidden sm:block"></div>

            <!-- Card Content -->
            <div class="relative z-20 p-6 sm:p-8">
              <!-- Icon Container - Consistent style -->
              <div class="w-14 h-14 sm:w-20 sm:h-20 mb-4 sm:mb-6 bg-swiss-orange/15 rounded-xl flex items-center justify-center">
                <svg class="w-7 h-7 sm:w-10 sm:h-10 text-swiss-orange" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
                </svg>
              </div>

              <!-- Title -->
              <h3 class="text-xl sm:text-2xl font-black mb-4 sm:mb-6">Werkzeuge</h3>

              <!-- List Items -->
              <ul class="space-y-3 sm:space-y-4 text-gray-400 text-sm sm:text-base">
                <li class="flex items-start gap-3">
                  <span class="text-swiss-orange mt-0.5 sm:mt-1">&#10003;</span>
                  <span>Claude Code, Agentic Coding, Agentenschwärme</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-swiss-orange mt-0.5 sm:mt-1">&#10003;</span>
                  <span>n8n, Supabase, Netlify, GitHub, Edge Functions</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-swiss-orange mt-0.5 sm:mt-1">&#10003;</span>
                  <span>Bild- und Videogenerierung, Voice Bots</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-swiss-orange mt-0.5 sm:mt-1">&#10003;</span>
                  <span>Browser-Automation, Computer-Steuerung durch KI</span>
                </li>
              </ul>
            </div>

            <!-- Hover Glow Effect -->
            <div class="absolute -bottom-20 left-1/2 -translate-x-1/2 w-60 h-40 bg-swiss-orange/0 group-hover:bg-swiss-orange/15 rounded-full blur-3xl transition-all duration-700 z-0"></div>
          </div>
        </div>

        <!-- Big Feature: Agenten & Schwärme -->
        <div class="scroll-reveal relative bg-gradient-to-r from-swiss-orange/10 via-transparent to-swiss-orange/10 border border-swiss-orange/20 p-8 lg:p-12">
          <div class="absolute top-0 left-0 w-32 h-32 border-t-2 border-l-2 border-swiss-orange/40"></div>
          <div class="absolute bottom-0 right-0 w-32 h-32 border-b-2 border-r-2 border-swiss-orange/40"></div>

          <div class="grid lg:grid-cols-2 gap-12 items-center">
            <div>
              <span class="font-mono text-sm text-swiss-orange tracking-widest mb-4 block">KERNKOMPETENZ</span>
              <h3 class="text-4xl lg:text-5xl font-black mb-6">
                Agenten &<br/>
                <span class="text-swiss-orange">Agentenschwärme</span>
              </h3>
              <p class="text-xl text-gray-400 mb-6">
                Das Koordinieren ganzer Schwärme von KI-Agenten. Jeder Agent spezialisiert, zusammen unschlagbar. Das ist die Zukunft der Arbeit – und du lernst, sie gezielt einzusetzen.
              </p>
              <button
                id="open-modal-agents"
                class="inline-flex items-center gap-3 bg-swiss-orange text-white font-bold px-8 py-4 hover:bg-orange-600 transition-colors"
              >
                Mehr erfahren
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                </svg>
              </button>
            </div>

            <!-- Agent Visualization - Meaningful Agent Swarm -->
            <div class="relative h-80 lg:h-96 flex items-center justify-center hidden lg:flex">
              <!-- Central Node - You as the orchestrator -->
              <div class="absolute w-24 h-24 bg-gradient-to-br from-swiss-orange to-orange-600 rounded-full flex flex-col items-center justify-center z-20 shadow-[0_0_40px_rgba(255,79,0,0.4)]">
                <svg class="w-8 h-8 text-white mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                </svg>
                <span class="text-white font-black text-sm tracking-tight">DIRIGENT</span>
              </div>

              <!-- Orbiting Rings with Data Flow -->
              <div class="absolute w-72 h-72 border border-dashed border-swiss-orange/20 rounded-full"></div>
              <div class="absolute w-56 h-56 border border-swiss-orange/10 rounded-full animate-spin-slow" style="animation-duration: 30s;"></div>

              <!-- Agent 1: Research Agent (Top) -->
              <div class="absolute -top-2 left-1/2 -translate-x-1/2 group">
                <div class="w-16 h-16 bg-gray-900 border-2 border-blue-500/60 rounded-xl flex flex-col items-center justify-center animate-float-slow shadow-[0_0_20px_rgba(59,130,246,0.2)]">
                  <svg class="w-6 h-6 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                  </svg>
                  <span class="text-[8px] font-mono text-blue-400 mt-0.5">RESEARCH</span>
                </div>
                <div class="absolute -bottom-6 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap bg-gray-900/90 px-2 py-1 rounded text-xs text-gray-300">
                  Sucht & analysiert
                </div>
              </div>

              <!-- Agent 2: Code Agent (Bottom) -->
              <div class="absolute -bottom-2 left-1/2 -translate-x-1/2 group">
                <div class="w-16 h-16 bg-gray-900 border-2 border-green-500/60 rounded-xl flex flex-col items-center justify-center animate-float-delayed shadow-[0_0_20px_rgba(34,197,94,0.2)]">
                  <svg class="w-6 h-6 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
                  </svg>
                  <span class="text-[8px] font-mono text-green-400 mt-0.5">CODE</span>
                </div>
                <div class="absolute -top-6 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap bg-gray-900/90 px-2 py-1 rounded text-xs text-gray-300">
                  Programmiert & baut
                </div>
              </div>

              <!-- Agent 3: Data Agent (Left) -->
              <div class="absolute left-4 top-1/2 -translate-y-1/2 group">
                <div class="w-16 h-16 bg-gray-900 border-2 border-purple-500/60 rounded-xl flex flex-col items-center justify-center animate-float-slow shadow-[0_0_20px_rgba(168,85,247,0.2)]">
                  <svg class="w-6 h-6 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                  </svg>
                  <span class="text-[8px] font-mono text-purple-400 mt-0.5">DATA</span>
                </div>
                <div class="absolute left-full ml-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap bg-gray-900/90 px-2 py-1 rounded text-xs text-gray-300">
                  Analysiert & optimiert
                </div>
              </div>

              <!-- Agent 4: Content Agent (Right) -->
              <div class="absolute right-4 top-1/2 -translate-y-1/2 group">
                <div class="w-16 h-16 bg-gray-900 border-2 border-amber-500/60 rounded-xl flex flex-col items-center justify-center animate-float-delayed shadow-[0_0_20px_rgba(245,158,11,0.2)]">
                  <svg class="w-6 h-6 text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                  </svg>
                  <span class="text-[8px] font-mono text-amber-400 mt-0.5">CONTENT</span>
                </div>
                <div class="absolute right-full mr-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap bg-gray-900/90 px-2 py-1 rounded text-xs text-gray-300">
                  Erstellt & schreibt
                </div>
              </div>

              <!-- Connection Lines with Flow Animation -->
              <svg class="absolute inset-0 w-full h-full" viewBox="0 0 320 320">
                <!-- Animated data flow particles on lines -->
                <defs>
                  <linearGradient id="lineGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" stop-color="#FF4F00" stop-opacity="0"/>
                    <stop offset="50%" stop-color="#FF4F00" stop-opacity="0.8"/>
                    <stop offset="100%" stop-color="#FF4F00" stop-opacity="0"/>
                  </linearGradient>
                </defs>
                <!-- Lines to each agent -->
                <line x1="160" y1="160" x2="160" y2="40" stroke="url(#lineGradient)" stroke-width="2" class="animate-pulse-line"/>
                <line x1="160" y1="160" x2="160" y2="280" stroke="url(#lineGradient)" stroke-width="2" class="animate-pulse-line" style="animation-delay: 0.2s"/>
                <line x1="160" y1="160" x2="50" y2="160" stroke="url(#lineGradient)" stroke-width="2" class="animate-pulse-line" style="animation-delay: 0.4s"/>
                <line x1="160" y1="160" x2="270" y2="160" stroke="url(#lineGradient)" stroke-width="2" class="animate-pulse-line" style="animation-delay: 0.6s"/>
              </svg>
            </div>

            <!-- Mobile: Simplified Agent Grid -->
            <div class="lg:hidden grid grid-cols-2 gap-3 mt-6">
              <div class="bg-gray-900/80 border border-blue-500/30 rounded-lg p-3 flex items-center gap-3">
                <div class="w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center flex-shrink-0">
                  <svg class="w-5 h-5 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                  </svg>
                </div>
                <div>
                  <span class="font-mono text-[10px] text-blue-400 block">RESEARCH</span>
                  <span class="text-xs text-gray-400">Sucht & analysiert</span>
                </div>
              </div>
              <div class="bg-gray-900/80 border border-green-500/30 rounded-lg p-3 flex items-center gap-3">
                <div class="w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center flex-shrink-0">
                  <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
                  </svg>
                </div>
                <div>
                  <span class="font-mono text-[10px] text-green-400 block">CODE</span>
                  <span class="text-xs text-gray-400">Programmiert & baut</span>
                </div>
              </div>
              <div class="bg-gray-900/80 border border-purple-500/30 rounded-lg p-3 flex items-center gap-3">
                <div class="w-10 h-10 bg-purple-500/20 rounded-lg flex items-center justify-center flex-shrink-0">
                  <svg class="w-5 h-5 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                  </svg>
                </div>
                <div>
                  <span class="font-mono text-[10px] text-purple-400 block">DATA</span>
                  <span class="text-xs text-gray-400">Analysiert & optimiert</span>
                </div>
              </div>
              <div class="bg-gray-900/80 border border-amber-500/30 rounded-lg p-3 flex items-center gap-3">
                <div class="w-10 h-10 bg-amber-500/20 rounded-lg flex items-center justify-center flex-shrink-0">
                  <svg class="w-5 h-5 text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                  </svg>
                </div>
                <div>
                  <span class="font-mono text-[10px] text-amber-400 block">CONTENT</span>
                  <span class="text-xs text-gray-400">Erstellt & schreibt</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>


    <!-- ============================================
         SOCIAL PROOF / QUOTE SECTION
         ============================================ -->
    <section class="relative py-16 sm:py-24 bg-gradient-to-b from-gray-950 to-black overflow-hidden mobile-section-padding">
      <div class="absolute inset-0 opacity-10" style="background-image: linear-gradient(rgba(255,79,0,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,79,0,0.1) 1px, transparent 1px); background-size: 60px 60px;"></div>

      <div class="container mx-auto px-4 sm:px-6 lg:px-12 max-w-4xl relative z-10">
        <div class="scroll-reveal text-center">
          <svg class="w-10 h-10 sm:w-16 sm:h-16 text-swiss-orange/30 mx-auto mb-4 sm:mb-8" fill="currentColor" viewBox="0 0 24 24">
            <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"/>
          </svg>

          <blockquote class="text-lg sm:text-2xl lg:text-3xl font-medium text-gray-300 leading-relaxed mb-6 sm:mb-8 italic quote-mobile px-2">
            Im Laufe meiner zahlreichen Coachings gab es für mich nichts Schöneres als zu sehen, dass die Teilnehmer nicht nur verstanden haben, dass KI unerreichbare Ziele plötzlich erreichbar macht und inzwischen unabdingbar ist – sondern dass sie dabei echte Freude und Begeisterung erlebt haben. Das ist wertvoller als jedes Tool.
          </blockquote>

          <div class="flex items-center justify-center gap-3 sm:gap-4">
            <div class="w-1 h-10 sm:h-12 bg-swiss-orange"></div>
            <div class="text-left">
              <p class="font-black text-white text-sm sm:text-base">Marco Heer</p>
              <p class="text-gray-500 font-mono text-xs sm:text-sm">Gründer & Coach</p>
            </div>
          </div>
        </div>
      </div>
    </section>


    <!-- ============================================
         ABOUT MARCO SECTION
         ============================================ -->
    <section class="relative py-16 sm:py-24 lg:py-32 bg-black overflow-hidden mobile-section-padding">
      <div class="container mx-auto px-4 sm:px-6 lg:px-12 max-w-7xl">
        <div class="grid lg:grid-cols-2 gap-8 sm:gap-12 lg:gap-16 items-center">
          <!-- Text Content -->
          <div class="scroll-reveal">
            <span class="inline-block px-3 sm:px-4 py-2 bg-swiss-orange/10 border border-swiss-orange/30 text-swiss-orange font-mono text-[10px] sm:text-xs tracking-[0.2em] sm:tracking-[0.3em] uppercase mb-4 sm:mb-6">
              Über Marco
            </span>
            <h2 class="text-2xl sm:text-3xl md:text-5xl font-black mb-6 sm:mb-8">
              Vom Vertriebsleiter zum <span class="text-swiss-orange">KI-Projektleiter</span>
            </h2>

            <div class="space-y-4 sm:space-y-6 text-gray-400 text-base sm:text-lg leading-relaxed">
              <p>
                Ich entstamme nicht der IT-Welt. Ich habe Luft- und Raumfahrttechnik studiert, dann Wirtschaftsingenieurwesen abgeschlossen. Danach drei Jahre als Cyber Security Specialist im Vertrieb bei Cisco Systems, dann in der Vertriebsleitung. Dort habe ich KI und Automatisierung für mich entdeckt – nicht aus Spielerei, sondern aus echtem Bedarf.
              </p>
              <p>
                Nach hunderten Nächten, gescheiterten und erfolgreichen Projekten, ist eine Erkenntnis gereift: KI ist der größte Zugewinn meines wirtschaftlichen Lebens. Und ich habe das Skill-Set eines Projektleiters entwickelt, der ganze Schwärme von Agenten orchestriert.
              </p>
              <p>
                Jetzt gebe ich dieses Wissen weiter. Mit der Leidenschaft eines Lehrers, der Direktheit eines Vertrieblers und der Positivität eines Menschen, in dessen Welt es keine Sätze gibt wie <span class="text-white font-medium">"Das geht nicht"</span> oder <span class="text-white font-medium">"Steht in keinem Verhältnis"</span>.
              </p>
            </div>

            <div class="flex flex-wrap gap-3 sm:gap-6 mt-6 sm:mt-10 about-stats-mobile">
              <div class="bg-gray-900 border border-white/10 px-4 sm:px-6 py-3 sm:py-4">
                <p class="font-mono text-[10px] sm:text-xs text-gray-500 mb-1">Abschluss</p>
                <p class="font-bold text-sm sm:text-base">Wirtschaftsingenieur</p>
              </div>
              <div class="bg-gray-900 border border-white/10 px-4 sm:px-6 py-3 sm:py-4">
                <p class="font-mono text-[10px] sm:text-xs text-gray-500 mb-1">Hintergrund</p>
                <p class="font-bold text-sm sm:text-base">Ingenieur, Unternehmer und Coach</p>
              </div>
              <div class="bg-gray-900 border border-white/10 px-4 sm:px-6 py-3 sm:py-4">
                <p class="font-mono text-[10px] sm:text-xs text-gray-500 mb-1">KI-Erfahrung</p>
                <p class="font-bold text-sm sm:text-base">3+ Jahre Praxis</p>
              </div>
            </div>
          </div>

          <!-- Visual Element -->
          <div class="scroll-reveal relative" style="animation-delay: 0.2s;">
            <div class="relative bg-gradient-to-br from-gray-900 to-black border border-white/10 p-8">
              <!-- Story Timeline -->
              <div class="space-y-8">
                <div class="flex items-start gap-4">
                  <div class="w-3 h-3 bg-swiss-orange rounded-full mt-2 flex-shrink-0"></div>
                  <div>
                    <p class="font-mono text-xs text-swiss-orange mb-1">KAPITEL 1</p>
                    <p class="text-gray-300">Studium & Ingenieurswesen</p>
                  </div>
                </div>
                <div class="flex items-start gap-4">
                  <div class="w-3 h-3 bg-swiss-orange rounded-full mt-2 flex-shrink-0"></div>
                  <div>
                    <p class="font-mono text-xs text-swiss-orange mb-1">KAPITEL 2</p>
                    <p class="text-gray-300">Vertriebsleitung & Führungserfahrung</p>
                  </div>
                </div>
                <div class="flex items-start gap-4">
                  <div class="w-3 h-3 bg-swiss-orange rounded-full mt-2 flex-shrink-0"></div>
                  <div>
                    <p class="font-mono text-xs text-swiss-orange mb-1">KAPITEL 3</p>
                    <p class="text-gray-300">Entdeckung: KI & Automatisierung</p>
                  </div>
                </div>
                <div class="flex items-start gap-4">
                  <div class="w-3 h-3 bg-swiss-orange rounded-full mt-2 flex-shrink-0"></div>
                  <div>
                    <p class="font-mono text-xs text-swiss-orange mb-1">KAPITEL 4</p>
                    <p class="text-gray-300">Hunderte Nächte, hunderte Erkenntnisse</p>
                  </div>
                </div>
                <div class="flex items-start gap-4">
                  <div class="w-3 h-3 bg-swiss-orange rounded-full mt-2 flex-shrink-0 animate-pulse"></div>
                  <div>
                    <p class="font-mono text-xs text-swiss-orange mb-1">HEUTE</p>
                    <p class="text-white font-bold">Coach & Möglichmacher</p>
                  </div>
                </div>
              </div>

              <!-- Decorative -->
              <div class="absolute -top-4 -right-4 w-24 h-24 border-t-2 border-r-2 border-swiss-orange/30"></div>
              <div class="absolute -bottom-4 -left-4 w-24 h-24 border-b-2 border-l-2 border-swiss-orange/30"></div>
            </div>
          </div>
        </div>
      </div>
    </section>


    <!-- ============================================
         FINAL CTA SECTION - DRAMATIC
         ============================================ -->
    <section class="relative py-20 sm:py-32 overflow-hidden" style="background: linear-gradient(180deg, #0a0a0a 0%, #0d0d0d 50%, #0a0a0a 100%);">
      <!-- Animated Background -->
      <div class="absolute inset-0">
        <!-- Main glow -->
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] sm:w-[800px] h-[600px] sm:h-[800px] bg-gradient-radial from-swiss-orange/25 to-transparent rounded-full blur-3xl animate-pulse-slow"></div>

        <!-- Orbiting rings -->
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] border border-swiss-orange/10 rounded-full animate-spin-slow hidden sm:block"></div>
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] border border-swiss-orange/5 rounded-full animate-spin-reverse hidden lg:block"></div>

        <!-- Floating particles -->
        <div class="absolute top-1/4 left-1/4 w-3 h-3 bg-swiss-orange/40 rounded-full animate-float-particle"></div>
        <div class="absolute top-3/4 right-1/4 w-2 h-2 bg-swiss-orange/30 rounded-full animate-float-particle" style="animation-delay: -3s;"></div>
        <div class="absolute top-1/2 left-10 w-2 h-2 bg-orange-400/40 rounded-full animate-float-particle" style="animation-delay: -5s;"></div>
        <div class="absolute bottom-1/4 right-10 w-1.5 h-1.5 bg-swiss-orange/50 rounded-full animate-float-particle" style="animation-delay: -2s;"></div>
      </div>

      <div class="container mx-auto px-4 sm:px-6 lg:px-12 max-w-4xl text-center relative z-10">
        <div class="scroll-reveal">
          <span class="inline-flex items-center gap-2 sm:gap-3 px-4 sm:px-5 py-2 sm:py-3 bg-swiss-orange/10 border border-swiss-orange/30 mb-6 sm:mb-8">
            <span class="relative flex h-2 w-2">
              <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-swiss-orange opacity-75"></span>
              <span class="relative inline-flex rounded-full h-2 w-2 bg-swiss-orange"></span>
            </span>
            <span class="font-mono text-xs sm:text-sm text-swiss-orange tracking-widest">BEGRENZTE PLÄTZE</span>
          </span>

          <h2 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-black mb-6 sm:mb-8 px-2">
            Bereit für die<br/>
            <span class="text-swiss-orange">Transformation?</span>
          </h2>

          <p class="text-base sm:text-xl text-gray-400 max-w-2xl mx-auto mb-8 sm:mb-12 px-4">
            In 6 Monaten wirst du Dinge können, die heute noch unmöglich erscheinen. Die Frage ist nicht ob, sondern wann du anfängst.
          </p>

          <button
            id="open-modal-final"
            class="group relative inline-flex flex-col items-center justify-center bg-swiss-orange text-white font-bold px-8 sm:px-14 py-5 sm:py-6 text-lg sm:text-xl overflow-hidden transition-all duration-500 hover:shadow-[0_0_80px_rgba(255,79,0,0.6)] w-full sm:w-auto"
          >
            <span class="absolute inset-0 bg-gradient-to-r from-orange-600 to-swiss-orange opacity-0 group-hover:opacity-100 transition-opacity duration-500"></span>
            <span class="relative z-10 flex items-center gap-3">
              <span>Unverbindlich bewerben</span>
              <svg class="w-5 h-5 sm:w-6 sm:h-6 group-hover:translate-x-2 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
              </svg>
            </span>
            <span class="relative z-10 text-xs font-normal opacity-80 mt-1">Die Bewerbung ist kostenfrei</span>
            <span class="absolute inset-0 border-2 border-swiss-orange"></span>
          </button>
        </div>
      </div>
    </section>


    <!-- ============================================
         FOOTER
         ============================================ -->
    <footer class="py-12 bg-black border-t border-white/5">
      <div class="container mx-auto px-6 lg:px-12 max-w-7xl">
        <div class="flex flex-col md:flex-row justify-between items-center gap-6">
          <a href="/" class="text-2xl font-black">
            SYN<span class="text-swiss-orange">C</span>LARO
          </a>
          <div class="flex gap-8 text-sm text-gray-500">
            <a href="/impressum" class="hover:text-swiss-orange transition-colors">Impressum</a>
            <a href="/datenschutz" class="hover:text-swiss-orange transition-colors">Datenschutz</a>
            <a href="/agb" class="hover:text-swiss-orange transition-colors">AGB</a>
          </div>
          <p class="text-sm text-gray-600">&copy; 2026 Synclaro</p>
        </div>
      </div>
    </footer>


    <!-- ============================================
         STICKY MOBILE CTA
         ============================================ -->
    <div id="sticky-cta" class="sm:hidden fixed bottom-0 left-0 right-0 z-40 translate-y-full transition-transform duration-300 ease-out">
      <div class="bg-black/95 backdrop-blur-md border-t border-swiss-orange/30 px-4 py-3 safe-area-padding">
        <button
          id="open-modal-sticky"
          class="w-full bg-swiss-orange text-white font-bold py-2.5 text-sm active:scale-[0.98] transition-transform duration-150 shadow-[0_0_40px_rgba(255,79,0,0.4)] flex flex-col items-center justify-center"
        >
          <span class="flex items-center gap-2">
            <span>Unverbindlich bewerben</span>
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
          </span>
          <span class="text-[10px] font-normal opacity-80">Die Bewerbung ist kostenfrei</span>
        </button>
      </div>
    </div>


    <!-- ============================================
         APPLICATION MODAL
         ============================================ -->
    <div id="application-modal" class="fixed inset-0 z-50 hidden">
      <!-- Backdrop -->
      <div id="modal-backdrop" class="absolute inset-0 bg-black/90 backdrop-blur-sm"></div>

      <!-- Modal Content -->
      <div class="absolute inset-0 overflow-y-auto">
        <div class="min-h-full flex items-center justify-center p-0 sm:p-4">
          <div id="modal-content" class="relative w-full h-full sm:h-auto sm:max-w-2xl bg-gray-950 border-0 sm:border border-white/10 shadow-2xl transform scale-95 opacity-0 transition-all duration-300 modal-content-mobile">

            <!-- Close Button -->
            <button id="close-modal" class="absolute top-4 sm:top-6 right-4 sm:right-6 w-10 h-10 bg-white/5 border border-white/10 flex items-center justify-center hover:bg-white/10 transition-colors z-10">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
              </svg>
            </button>

            <!-- Form Content -->
            <div class="p-6 sm:p-8 lg:p-10 modal-form-mobile safe-area-padding flex flex-col h-full sm:h-auto">

              <!-- Trust Header (Always visible) -->
              <div class="mb-6 sm:mb-8 pt-8 sm:pt-0">
                <!-- Badge + Step Counter Row -->
                <div class="flex items-center gap-3 mb-4">
                  <span class="inline-flex items-center gap-1.5 px-2.5 py-1 bg-swiss-orange/10 border border-swiss-orange/20 text-swiss-orange font-mono text-[10px] tracking-wider rounded-full">
                    <span class="w-1.5 h-1.5 bg-swiss-orange rounded-full animate-pulse"></span>
                    BEWERBUNG
                  </span>
                  <span class="text-[10px] text-gray-500 flex items-center gap-1">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    60 Sek.
                  </span>
                </div>

                <!-- Title -->
                <h3 class="text-2xl sm:text-3xl font-black mb-2 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent">
                  Deine Bewerbung
                </h3>
                <p class="text-gray-400 text-sm">Keine Zahlung. Wir melden uns innerhalb von 24h.</p>
              </div>

              <!-- Progress Bar -->
              <div class="mb-6 sm:mb-8">
                <!-- Step Indicators -->
                <div class="flex items-center justify-between mb-3">
                  <div class="flex items-center gap-2">
                    <div id="step-indicator-1" class="w-8 h-8 rounded-full bg-swiss-orange flex items-center justify-center text-sm font-bold text-white shadow-lg shadow-swiss-orange/30">1</div>
                    <div class="w-8 sm:w-12 h-0.5 bg-white/10" id="step-line-1"></div>
                    <div id="step-indicator-2" class="w-8 h-8 rounded-full bg-white/10 flex items-center justify-center text-sm font-medium text-gray-500">2</div>
                    <div class="w-8 sm:w-12 h-0.5 bg-white/10" id="step-line-2"></div>
                    <div id="step-indicator-3" class="w-8 h-8 rounded-full bg-white/10 flex items-center justify-center text-sm font-medium text-gray-500">3</div>
                  </div>
                  <span id="step-label" class="text-xs text-swiss-orange font-medium hidden sm:block">Dein Ziel</span>
                </div>
                <!-- Mobile Step Label -->
                <div class="sm:hidden text-center">
                  <span class="text-xs text-gray-400">Schritt <span id="current-step-num">1</span>/3: </span>
                  <span id="step-label-mobile" class="text-xs text-swiss-orange font-medium">Dein Ziel</span>
                </div>
              </div>

              <form id="application-form" class="flex-1 flex flex-col">

                <!-- ========== STEP 1: Ziel & Zeit ========== -->
                <div id="form-step-1" class="form-step flex-1 flex flex-col" data-step="1">

                  <!-- Q1: Hauptziel -->
                  <div class="mb-5">
                    <p class="text-white font-semibold mb-3 text-sm sm:text-base flex items-center gap-2">
                      <span class="w-5 h-5 rounded-full bg-swiss-orange/20 text-swiss-orange text-xs flex items-center justify-center font-bold">1</span>
                      Was ist dein Hauptziel?
                    </p>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-2.5">
                      <label class="goal-option group relative flex items-start gap-3 p-4 bg-white/[0.02] border border-white/10 hover:border-swiss-orange/40 hover:bg-swiss-orange/5 cursor-pointer transition-all rounded-xl">
                        <input type="radio" name="q_goal" value="unternehmen" required class="sr-only peer" />
                        <div class="w-5 h-5 rounded-full border-2 border-white/30 peer-checked:border-swiss-orange peer-checked:bg-swiss-orange flex-shrink-0 mt-0.5 flex items-center justify-center transition-all">
                          <div class="w-2 h-2 rounded-full bg-white scale-0 peer-checked:scale-100 transition-transform"></div>
                        </div>
                        <div class="flex-1">
                          <span class="text-white text-sm font-medium block mb-0.5">Unternehmen automatisieren</span>
                          <span class="text-gray-500 text-xs">Prozesse digitalisieren</span>
                        </div>
                        <div class="absolute inset-0 rounded-xl border-2 border-swiss-orange opacity-0 peer-checked:opacity-100 transition-opacity pointer-events-none"></div>
                      </label>
                      <label class="goal-option group relative flex items-start gap-3 p-4 bg-white/[0.02] border border-white/10 hover:border-swiss-orange/40 hover:bg-swiss-orange/5 cursor-pointer transition-all rounded-xl">
                        <input type="radio" name="q_goal" value="selbststaendigkeit" class="sr-only peer" />
                        <div class="w-5 h-5 rounded-full border-2 border-white/30 peer-checked:border-swiss-orange peer-checked:bg-swiss-orange flex-shrink-0 mt-0.5 flex items-center justify-center transition-all">
                          <div class="w-2 h-2 rounded-full bg-white scale-0 peer-checked:scale-100 transition-transform"></div>
                        </div>
                        <div class="flex-1">
                          <span class="text-white text-sm font-medium block mb-0.5">Selbstständigkeit effizienter</span>
                          <span class="text-gray-500 text-xs">Weniger Aufwand, mehr Output</span>
                        </div>
                        <div class="absolute inset-0 rounded-xl border-2 border-swiss-orange opacity-0 peer-checked:opacity-100 transition-opacity pointer-events-none"></div>
                      </label>
                      <label class="goal-option group relative flex items-start gap-3 p-4 bg-white/[0.02] border border-white/10 hover:border-swiss-orange/40 hover:bg-swiss-orange/5 cursor-pointer transition-all rounded-xl">
                        <input type="radio" name="q_goal" value="weiterbildung" class="sr-only peer" />
                        <div class="w-5 h-5 rounded-full border-2 border-white/30 peer-checked:border-swiss-orange peer-checked:bg-swiss-orange flex-shrink-0 mt-0.5 flex items-center justify-center transition-all">
                          <div class="w-2 h-2 rounded-full bg-white scale-0 peer-checked:scale-100 transition-transform"></div>
                        </div>
                        <div class="flex-1">
                          <span class="text-white text-sm font-medium block mb-0.5">Persönliche Weiterbildung</span>
                          <span class="text-gray-500 text-xs">KI von Grund auf lernen</span>
                        </div>
                        <div class="absolute inset-0 rounded-xl border-2 border-swiss-orange opacity-0 peer-checked:opacity-100 transition-opacity pointer-events-none"></div>
                      </label>
                      <label class="goal-option group relative flex items-start gap-3 p-4 bg-white/[0.02] border border-white/10 hover:border-swiss-orange/40 hover:bg-swiss-orange/5 cursor-pointer transition-all rounded-xl">
                        <input type="radio" name="q_goal" value="karriere" class="sr-only peer" />
                        <div class="w-5 h-5 rounded-full border-2 border-white/30 peer-checked:border-swiss-orange peer-checked:bg-swiss-orange flex-shrink-0 mt-0.5 flex items-center justify-center transition-all">
                          <div class="w-2 h-2 rounded-full bg-white scale-0 peer-checked:scale-100 transition-transform"></div>
                        </div>
                        <div class="flex-1">
                          <span class="text-white text-sm font-medium block mb-0.5">Karriere-Boost</span>
                          <span class="text-gray-500 text-xs">Gefragte KI-Skills aufbauen</span>
                        </div>
                        <div class="absolute inset-0 rounded-xl border-2 border-swiss-orange opacity-0 peer-checked:opacity-100 transition-opacity pointer-events-none"></div>
                      </label>
                    </div>
                  </div>

                  <!-- Q2: Zeit Commitment -->
                  <div class="mb-4">
                    <p class="text-white font-semibold mb-3 text-sm sm:text-base flex items-center gap-2">
                      <span class="w-5 h-5 rounded-full bg-swiss-orange/20 text-swiss-orange text-xs flex items-center justify-center font-bold">2</span>
                      Kannst du 4-6h/Woche investieren?
                    </p>
                    <div class="flex gap-3">
                      <label class="flex-1 relative flex items-center justify-center gap-2.5 p-3.5 bg-white/[0.02] border border-white/10 hover:border-swiss-orange/40 hover:bg-swiss-orange/5 cursor-pointer transition-all rounded-xl">
                        <input type="radio" name="q_time_commitment" value="yes" required class="sr-only peer" />
                        <div class="w-4 h-4 rounded-full border-2 border-white/30 peer-checked:border-swiss-orange peer-checked:bg-swiss-orange flex-shrink-0 flex items-center justify-center transition-all">
                          <div class="w-1.5 h-1.5 rounded-full bg-white scale-0 peer-checked:scale-100 transition-transform"></div>
                        </div>
                        <span class="text-white text-sm font-medium">Ja, definitiv</span>
                        <div class="absolute inset-0 rounded-xl border-2 border-swiss-orange opacity-0 peer-checked:opacity-100 transition-opacity pointer-events-none"></div>
                      </label>
                      <label class="flex-1 relative flex items-center justify-center gap-2.5 p-3.5 bg-white/[0.02] border border-white/10 hover:border-swiss-orange/40 hover:bg-swiss-orange/5 cursor-pointer transition-all rounded-xl">
                        <input type="radio" name="q_time_commitment" value="maybe" class="sr-only peer" />
                        <div class="w-4 h-4 rounded-full border-2 border-white/30 peer-checked:border-swiss-orange peer-checked:bg-swiss-orange flex-shrink-0 flex items-center justify-center transition-all">
                          <div class="w-1.5 h-1.5 rounded-full bg-white scale-0 peer-checked:scale-100 transition-transform"></div>
                        </div>
                        <span class="text-white text-sm font-medium">Muss ich prüfen</span>
                        <div class="absolute inset-0 rounded-xl border-2 border-swiss-orange opacity-0 peer-checked:opacity-100 transition-opacity pointer-events-none"></div>
                      </label>
                    </div>
                  </div>

                  <!-- Trust Element: Preis-Transparenz -->
                  <div class="mt-auto pt-4">
                    <div class="flex items-center justify-center gap-2 text-xs text-gray-500 bg-white/[0.02] rounded-lg py-2.5 px-4 border border-white/5">
                      <svg class="w-4 h-4 text-swiss-orange/70" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
                      </svg>
                      <span>Paketpreis: <span class="text-white font-medium">3.779 EUR</span> (inkl. 4h 1:1)</span>
                    </div>
                  </div>
                </div>

                <!-- ========== STEP 2: Kontaktdaten ========== -->
                <div id="form-step-2" class="form-step hidden flex-1 flex flex-col" data-step="2">

                  <p class="text-gray-400 text-sm mb-5">
                    Wie können wir dich für das Kennenlerngespräch erreichen?
                  </p>

                  <div class="space-y-4">
                    <!-- Name Row -->
                    <div class="grid grid-cols-2 gap-3">
                      <div>
                        <label class="block text-xs font-medium text-gray-400 mb-2">Vorname</label>
                        <input type="text" name="firstName" required class="w-full px-4 py-3.5 bg-white/[0.03] border border-white/10 text-white placeholder-gray-600 focus:border-swiss-orange focus:bg-white/[0.05] focus:outline-none transition-all text-base rounded-xl" placeholder="Max" />
                      </div>
                      <div>
                        <label class="block text-xs font-medium text-gray-400 mb-2">Nachname</label>
                        <input type="text" name="lastName" required class="w-full px-4 py-3.5 bg-white/[0.03] border border-white/10 text-white placeholder-gray-600 focus:border-swiss-orange focus:bg-white/[0.05] focus:outline-none transition-all text-base rounded-xl" placeholder="Mustermann" />
                      </div>
                    </div>

                    <!-- Email -->
                    <div>
                      <label class="block text-xs font-medium text-gray-400 mb-2">E-Mail</label>
                      <input type="email" name="email" required class="w-full px-4 py-3.5 bg-white/[0.03] border border-white/10 text-white placeholder-gray-600 focus:border-swiss-orange focus:bg-white/[0.05] focus:outline-none transition-all text-base rounded-xl" placeholder="max@beispiel.de" />
                    </div>

                    <!-- Phone with Input Mask -->
                    <div>
                      <label class="block text-xs font-medium text-gray-400 mb-2">Telefon</label>
                      <div class="relative">
                        <span class="absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm font-medium">+49</span>
                        <input
                          type="tel"
                          name="phone"
                          id="phone-input"
                          required
                          class="w-full pl-14 pr-4 py-3.5 bg-white/[0.03] border border-white/10 text-white placeholder-gray-600 focus:border-swiss-orange focus:bg-white/[0.05] focus:outline-none transition-all text-base rounded-xl"
                          placeholder="123 4567890"
                          pattern="[0-9\s]{6,15}"
                          inputmode="tel"
                        />
                      </div>
                      <p id="phone-error" class="hidden text-red-400 text-xs mt-1.5 pl-1">Bitte gib eine gültige Telefonnummer ein</p>
                    </div>
                  </div>

                  <div class="mt-auto pt-5">
                    <div class="flex items-center justify-center gap-2 text-[11px] text-gray-500 bg-green-500/5 border border-green-500/10 rounded-lg py-2.5 px-4">
                      <svg class="w-4 h-4 text-green-500 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                      </svg>
                      <span>DSGVO-konform geschützt · <a href="/datenschutz" class="text-swiss-orange hover:underline">Datenschutz</a></span>
                    </div>
                  </div>
                </div>

                <!-- ========== STEP 3: Details (optional) ========== -->
                <div id="form-step-3" class="form-step hidden flex-1 flex flex-col" data-step="3">

                  <p class="text-gray-400 text-sm mb-5">
                    Fast geschafft! Noch eine kurze Frage.
                  </p>

                  <!-- KI-Kenntnisse (vereinfacht: 3 Stufen) -->
                  <div class="mb-5">
                    <p class="text-white font-semibold mb-3 text-sm flex items-center gap-2">
                      <span class="w-5 h-5 rounded-full bg-swiss-orange/20 text-swiss-orange text-xs flex items-center justify-center font-bold">?</span>
                      Wie schätzt du deine KI-Kenntnisse ein?
                    </p>
                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-2.5">
                      <label class="relative flex flex-col items-center gap-2 p-4 bg-white/[0.02] border border-white/10 hover:border-swiss-orange/40 hover:bg-swiss-orange/5 cursor-pointer transition-all rounded-xl text-center">
                        <input type="radio" name="q_knowledge_level" value="anfaenger" class="sr-only peer" />
                        <span class="text-2xl">🌱</span>
                        <span class="text-white text-sm font-medium">Anfänger</span>
                        <span class="text-gray-500 text-[10px]">Noch wenig Erfahrung</span>
                        <div class="absolute inset-0 rounded-xl border-2 border-swiss-orange opacity-0 peer-checked:opacity-100 transition-opacity pointer-events-none"></div>
                      </label>
                      <label class="relative flex flex-col items-center gap-2 p-4 bg-white/[0.02] border border-white/10 hover:border-swiss-orange/40 hover:bg-swiss-orange/5 cursor-pointer transition-all rounded-xl text-center">
                        <input type="radio" name="q_knowledge_level" value="fortgeschritten" class="sr-only peer" />
                        <span class="text-2xl">🚀</span>
                        <span class="text-white text-sm font-medium">Fortgeschritten</span>
                        <span class="text-gray-500 text-[10px]">Nutze KI regelmäßig</span>
                        <div class="absolute inset-0 rounded-xl border-2 border-swiss-orange opacity-0 peer-checked:opacity-100 transition-opacity pointer-events-none"></div>
                      </label>
                      <label class="relative flex flex-col items-center gap-2 p-4 bg-white/[0.02] border border-white/10 hover:border-swiss-orange/40 hover:bg-swiss-orange/5 cursor-pointer transition-all rounded-xl text-center">
                        <input type="radio" name="q_knowledge_level" value="profi" class="sr-only peer" />
                        <span class="text-2xl">⚡</span>
                        <span class="text-white text-sm font-medium">Profi</span>
                        <span class="text-gray-500 text-[10px]">Baue eigene Lösungen</span>
                        <div class="absolute inset-0 rounded-xl border-2 border-swiss-orange opacity-0 peer-checked:opacity-100 transition-opacity pointer-events-none"></div>
                      </label>
                    </div>
                  </div>

                  <!-- Optional: Motivation -->
                  <div class="mb-4">
                    <label class="block text-xs font-medium text-gray-400 mb-2">
                      Noch etwas mitteilen? <span class="text-gray-600">(optional)</span>
                    </label>
                    <textarea
                      name="motivation"
                      rows="2"
                      class="w-full px-4 py-3 bg-white/[0.03] border border-white/10 text-white placeholder-gray-600 focus:border-swiss-orange focus:bg-white/[0.05] focus:outline-none transition-all text-sm resize-none rounded-xl"
                      placeholder="z.B. Fragen, besondere Umstände..."
                    ></textarea>
                  </div>

                  <div class="mt-auto"></div>
                </div>

                <!-- ========== STICKY FOOTER mit Navigation ========== -->
                <div class="sticky bottom-0 bg-gradient-to-t from-gray-950 via-gray-950 to-gray-950/95 pt-6 pb-4 mt-6 border-t border-white/5">
                  <div class="flex gap-3">
                    <!-- Back Button (hidden on step 1) -->
                    <button
                      type="button"
                      id="prev-step-btn"
                      class="hidden w-12 h-12 border border-white/20 text-white font-medium hover:bg-white/5 hover:border-white/30 transition-all rounded-xl flex items-center justify-center"
                    >
                      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                      </svg>
                    </button>

                    <!-- Next/Submit Button -->
                    <button
                      type="button"
                      id="next-step-btn"
                      class="flex-1 bg-gradient-to-r from-swiss-orange to-orange-500 text-white font-bold py-4 text-base hover:from-orange-500 hover:to-swiss-orange transition-all disabled:opacity-50 disabled:cursor-not-allowed rounded-xl flex items-center justify-center gap-2 shadow-lg shadow-swiss-orange/25 hover:shadow-swiss-orange/40 hover:scale-[1.02] active:scale-[0.98]"
                    >
                      <span id="next-btn-text">Weiter</span>
                      <svg id="next-btn-arrow" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                      </svg>
                      <span id="submit-loading" class="hidden">
                        <svg class="animate-spin h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                        </svg>
                      </span>
                    </button>
                  </div>
                </div>

              </form>

              <!-- Success: Step 2 - Calendar Booking -->
              <div id="calendar-booking-step" class="hidden">
                <!-- Progress indicator -->
                <div class="flex items-center justify-center gap-4 mb-6">
                  <div class="flex items-center gap-2">
                    <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
                      <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                      </svg>
                    </div>
                    <span class="text-gray-400 text-sm">Bewerbung</span>
                  </div>
                  <div class="w-8 h-px bg-swiss-orange"></div>
                  <div class="flex items-center gap-2">
                    <div class="w-8 h-8 bg-swiss-orange rounded-full flex items-center justify-center">
                      <span class="text-white font-bold text-sm">2</span>
                    </div>
                    <span class="text-white text-sm font-medium">Termin wählen</span>
                  </div>
                </div>

                <div class="text-center mb-6">
                  <h3 class="text-xl sm:text-2xl font-black mb-2">Fast geschafft!</h3>
                  <p class="text-gray-400 text-sm sm:text-base">Wähle jetzt deinen 15-minütigen Kennenlern-Termin.</p>
                </div>

                <!-- Was erwartet dich -->
                <div class="bg-white/5 border border-white/10 p-4 mb-6 text-left">
                  <p class="text-xs font-mono text-gray-500 uppercase tracking-wider mb-3">Was erwartet dich?</p>
                  <ul class="space-y-2">
                    <li class="flex items-start gap-2 text-sm text-gray-300">
                      <svg class="w-4 h-4 text-swiss-orange flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                      </svg>
                      <span>15-minütiges Kennenlernen mit Marco Heer</span>
                    </li>
                    <li class="flex items-start gap-2 text-sm text-gray-300">
                      <svg class="w-4 h-4 text-swiss-orange flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                      </svg>
                      <span>Gemeinsame Feststellung, ob du zum Coaching passt</span>
                    </li>
                    <li class="flex items-start gap-2 text-sm text-gray-300">
                      <svg class="w-4 h-4 text-swiss-orange flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                      </svg>
                      <span>Klärung deiner offenen Fragen</span>
                    </li>
                  </ul>
                </div>

                <!-- Loading State -->
                <div id="calendar-loading" class="text-center py-8">
                  <div class="w-8 h-8 border-2 border-swiss-orange border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
                  <p class="text-gray-400">Lade verfügbare Termine...</p>
                </div>

                <!-- Calendar Widget -->
                <div id="calendar-widget" class="hidden">
                  <!-- Date Navigation -->
                  <div class="flex items-center justify-between mb-4">
                    <button id="prev-week" class="p-2 hover:bg-white/5 rounded transition-colors disabled:opacity-30" disabled>
                      <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                      </svg>
                    </button>
                    <span id="week-label" class="text-white font-medium"></span>
                    <button id="next-week" class="p-2 hover:bg-white/5 rounded transition-colors">
                      <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                      </svg>
                    </button>
                  </div>

                  <!-- Days Grid -->
                  <div id="days-container" class="grid grid-cols-5 gap-2 mb-4">
                    <!-- Days will be populated by JavaScript -->
                  </div>

                  <!-- Time Slots -->
                  <div id="slots-container" class="max-h-48 overflow-y-auto space-y-2">
                    <p id="select-day-hint" class="text-gray-500 text-center text-sm py-4">Wähle einen Tag, um verfügbare Zeiten zu sehen</p>
                    <!-- Slots will be populated by JavaScript -->
                  </div>

                  <!-- Selected Slot Display -->
                  <div id="selected-slot-display" class="hidden mt-4 p-4 bg-swiss-orange/10 border border-swiss-orange/30 rounded">
                    <div class="flex items-center justify-between">
                      <div>
                        <p class="text-white font-medium" id="selected-slot-text"></p>
                        <p class="text-gray-400 text-sm">15 Minuten Kennenlerngespräch</p>
                      </div>
                      <button id="confirm-booking" class="px-4 py-2 bg-swiss-orange text-white font-bold hover:bg-orange-600 transition-colors">
                        Termin buchen
                      </button>
                    </div>
                  </div>

                  <!-- Booking Loading -->
                  <div id="booking-loading" class="hidden mt-4 text-center py-4">
                    <div class="w-6 h-6 border-2 border-swiss-orange border-t-transparent rounded-full animate-spin mx-auto mb-2"></div>
                    <p class="text-gray-400 text-sm">Termin wird gebucht...</p>
                  </div>
                </div>

                <!-- Calendar Error -->
                <div id="calendar-error" class="hidden text-center py-8">
                  <div class="w-12 h-12 bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-6 h-6 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </div>
                  <p class="text-gray-400 mb-4" id="calendar-error-text">Termine konnten nicht geladen werden.</p>
                  <button id="retry-calendar" class="text-swiss-orange font-medium hover:underline">Erneut versuchen</button>
                </div>
              </div>

              <!-- Success: Step 3 - Booking Confirmed -->
              <div id="booking-confirmed" class="hidden text-center py-8 sm:py-12">
                <div class="w-16 h-16 sm:w-20 sm:h-20 bg-green-500/10 border border-green-500/30 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6">
                  <svg class="w-8 h-8 sm:w-10 sm:h-10 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                  </svg>
                </div>
                <h3 class="text-xl sm:text-2xl font-black mb-3 sm:mb-4">Termin gebucht!</h3>
                <p class="text-white font-medium mb-2" id="confirmed-datetime"></p>
                <p class="text-gray-400 mb-4 sm:mb-6 text-sm sm:text-base px-4">Du erhältst in Kürze eine Bestätigung per E-Mail mit allen Details.</p>
                <button id="close-success" class="text-swiss-orange font-medium hover:underline text-sm sm:text-base">Fenster schließen</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>


    <!-- ============================================
         SCRIPTS
         ============================================ -->
    <script>
      // ============================================
      // DYNAMIC PARTICIPANT COUNTER
      // Start: 10 participants, 10 spots free
      // Every week: +2 participants
      // After 5 weeks: full (20/20)
      // ============================================
      (function() {
        const START_DATE = new Date('2025-12-23'); // Montag KW52
        const START_PARTICIPANTS = 10;
        const TOTAL_SPOTS = 20;
        const INCREASE_PER_WEEK = 2;

        function getWeeksSinceStart() {
          const now = new Date();
          const diffTime = now.getTime() - START_DATE.getTime();
          const diffDays = diffTime / (1000 * 60 * 60 * 24);
          return Math.floor(diffDays / 7);
        }

        function updateCounters() {
          const weeksPassed = Math.max(0, getWeeksSinceStart());
          const participants = Math.min(TOTAL_SPOTS, START_PARTICIPANTS + (weeksPassed * INCREASE_PER_WEEK));
          const spotsFree = Math.max(0, TOTAL_SPOTS - participants);

          // Update all participant count elements
          document.querySelectorAll('.participant-count').forEach(el => {
            el.textContent = `${participants} Teilnehmer`;
          });

          // Update all spots free elements (desktop)
          document.querySelectorAll('.spots-free').forEach(el => {
            if (spotsFree === 0) {
              el.textContent = 'Ausgebucht!';
              el.classList.add('text-red-500');
            } else if (spotsFree <= 3) {
              el.textContent = `nur ${spotsFree} ${spotsFree === 1 ? 'Platz' : 'Plätze'} frei`;
            } else {
              el.textContent = `${spotsFree} Plätze frei`;
            }
          });

          // Update mobile spots free
          document.querySelectorAll('.spots-free-mobile').forEach(el => {
            if (spotsFree === 0) {
              el.textContent = 'Ausgebucht!';
              el.classList.add('text-red-500');
            } else if (spotsFree <= 3) {
              el.textContent = `nur ${spotsFree} frei`;
            } else {
              el.textContent = `${spotsFree} Plätze frei`;
            }
          });

          // Update sticky CTA
          document.querySelectorAll('.spots-free-sticky').forEach(el => {
            if (spotsFree === 0) {
              el.textContent = '(Ausgebucht!)';
            } else if (spotsFree <= 3) {
              el.textContent = `(nur ${spotsFree} frei!)`;
            } else {
              el.textContent = `(nur ${spotsFree} frei)`;
            }
          });
        }

        // Run on page load
        updateCounters();
      })();

      // Testimonials Toggle (Mobile)
      (function() {
        const toggle = document.getElementById('testimonials-toggle');
        const content = document.getElementById('testimonials-content');
        const chevron = document.getElementById('testimonials-chevron');
        const hint = document.getElementById('testimonials-hint');

        if (toggle && content && chevron) {
          toggle.addEventListener('click', () => {
            const isHidden = content.classList.contains('hidden');

            // Hide the "Antippen" hint after first click
            if (hint) {
              hint.classList.add('hidden');
            }

            if (isHidden) {
              content.classList.remove('hidden');
              chevron.classList.add('rotate-180');
            } else {
              content.classList.add('hidden');
              chevron.classList.remove('rotate-180');
            }
          });
        }
      })();

      // Modal functionality
      const modal = document.getElementById('application-modal');
      const modalContent = document.getElementById('modal-content');
      const modalBackdrop = document.getElementById('modal-backdrop');
      const closeModal = document.getElementById('close-modal');
      const closeSuccess = document.getElementById('close-success');

      // All buttons that open the modal
      const openButtons = [
        'open-modal-hero',
        'open-modal-hero-mobile',
        'open-modal-agents',
        'open-modal-program',
        'open-modal-final',
        'open-modal-sticky'
      ].map(id => document.getElementById(id)).filter(Boolean);

      // Sticky CTA visibility
      const stickyCTA = document.getElementById('sticky-cta');
      let lastScrollY = 0;

      function updateStickyCTA() {
        const scrollY = window.scrollY;
        const heroHeight = window.innerHeight * 0.6;
        const isModalOpen = !modal?.classList.contains('hidden');

        if (scrollY > heroHeight && !isModalOpen) {
          stickyCTA?.classList.remove('translate-y-full');
        } else {
          stickyCTA?.classList.add('translate-y-full');
        }
        lastScrollY = scrollY;
      }

      window.addEventListener('scroll', updateStickyCTA, { passive: true });
      updateStickyCTA();

      // ============================================
      // FORENSIC TRACKING SYSTEM (P0)
      // ============================================
      const forensicTracking = {
        ctaClickTime: 0,
        modalRenderedTime: 0,
        firstInteractionTracked: false,
        modalTimeoutId: null as ReturnType<typeof setTimeout> | null,
        errorHandler: null as ((event: ErrorEvent) => void) | null,
        rejectionHandler: null as ((event: PromiseRejectionEvent) => void) | null,

        getSessionId() {
          return sessionStorage.getItem('meta_session_id') || '';
        },

        async sendAction(action: string, extraData: Record<string, any> = {}) {
          try {
            await fetch('/api/lp-session', {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({
                action,
                session_id: this.getSessionId(),
                ...extraData,
              }),
            });
            console.log(`[Forensic] ${action}:`, extraData);
          } catch (e) {
            console.error(`[Forensic] Failed to send ${action}:`, e);
          }
        },

        // Called when CTA button is clicked (BEFORE modal shows)
        onCtaClick() {
          this.ctaClickTime = Date.now();
          this.firstInteractionTracked = false;

          // Install error handlers
          this.installErrorHandlers();

          // Set timeout for modal render
          this.modalTimeoutId = setTimeout(() => {
            if (!this.modalRenderedTime) {
              this.sendAction('modal_timeout');
              console.warn('[Forensic] Modal did not render within 2000ms');
            }
          }, 2000);

          // Send cta_click event
          this.sendAction('cta_click', {
            viewport_height: window.innerHeight,
          });
        },

        // Called when modal is actually visible and interactable
        onModalRendered() {
          this.modalRenderedTime = Date.now();
          const renderTime = this.ctaClickTime ? this.modalRenderedTime - this.ctaClickTime : 0;

          // Clear timeout
          if (this.modalTimeoutId) {
            clearTimeout(this.modalTimeoutId);
            this.modalTimeoutId = null;
          }

          // Get modal measurements
          const modalEl = document.getElementById('modal-content');
          const firstField = document.querySelector('#form-step-1 input, #form-step-1 button[type="button"]') as HTMLElement;

          this.sendAction('modal_rendered', {
            modal_render_time_ms: renderTime,
            modal_height: modalEl?.offsetHeight || null,
            first_visible_field_y: firstField?.getBoundingClientRect().top || null,
          });

          // Dispatch legacy event for MetaPixelTracker compatibility
          window.dispatchEvent(new CustomEvent('form_modal_open'));
        },

        // Called on first user interaction in modal
        onFirstInteraction(interactionType: string) {
          if (this.firstInteractionTracked) return;
          this.firstInteractionTracked = true;

          this.sendAction('first_interaction', {
            interaction_type: interactionType,
          });
        },

        // Install error handlers during modal open
        installErrorHandlers() {
          this.errorHandler = (event: ErrorEvent) => {
            this.sendAction('client_error', {
              error_message: `${event.message} at ${event.filename}:${event.lineno}`,
              error_type: 'window.onerror',
            });
          };
          this.rejectionHandler = (event: PromiseRejectionEvent) => {
            this.sendAction('client_error', {
              error_message: String(event.reason).substring(0, 500),
              error_type: 'unhandledrejection',
            });
          };
          window.addEventListener('error', this.errorHandler);
          window.addEventListener('unhandledrejection', this.rejectionHandler);
        },

        // Remove error handlers
        removeErrorHandlers() {
          if (this.errorHandler) {
            window.removeEventListener('error', this.errorHandler);
            this.errorHandler = null;
          }
          if (this.rejectionHandler) {
            window.removeEventListener('unhandledrejection', this.rejectionHandler);
            this.rejectionHandler = null;
          }
        },

        // Reset state
        reset() {
          this.ctaClickTime = 0;
          this.modalRenderedTime = 0;
          this.firstInteractionTracked = false;
          if (this.modalTimeoutId) {
            clearTimeout(this.modalTimeoutId);
            this.modalTimeoutId = null;
          }
          this.removeErrorHandlers();
        },
      };

      function showModal() {
        // STEP 1: Track CTA click BEFORE any DOM changes
        forensicTracking.onCtaClick();

        // STEP 2: Start showing modal
        modal?.classList.remove('hidden');
        stickyCTA?.classList.add('translate-y-full'); // Hide sticky when modal opens
        document.body.style.overflow = 'hidden';

        // STEP 3: Animate modal in
        setTimeout(() => {
          modalContent?.classList.remove('scale-95', 'opacity-0');
          modalContent?.classList.add('scale-100', 'opacity-100');

          // STEP 4: After animation, confirm modal is rendered
          // Use requestAnimationFrame to ensure paint is complete
          requestAnimationFrame(() => {
            requestAnimationFrame(() => {
              forensicTracking.onModalRendered();
              // Start granular form tracking
              formTracking.onFormOpen();
            });
          });
        }, 10);
      }

      function hideModal() {
        modalContent?.classList.remove('scale-100', 'opacity-100');
        modalContent?.classList.add('scale-95', 'opacity-0');
        setTimeout(() => {
          modal?.classList.add('hidden');
          document.body.style.overflow = '';
        }, 300);
        // Reset forensic tracking state
        forensicTracking.reset();
      }

      openButtons.forEach(btn => btn?.addEventListener('click', showModal));
      closeModal?.addEventListener('click', hideModal);
      closeSuccess?.addEventListener('click', hideModal);
      modalBackdrop?.addEventListener('click', hideModal);

      // Track any tap/click inside modal as first interaction
      // Note: forensicTracking.onFirstInteraction() handles de-duplication internally
      modalContent?.addEventListener('touchstart', () => {
        forensicTracking.onFirstInteraction('tap');
      }, { passive: true });
      modalContent?.addEventListener('mousedown', () => {
        forensicTracking.onFirstInteraction('tap');
      });

      // Close on Escape
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && !modal?.classList.contains('hidden')) {
          hideModal();
        }
      });

      // ============================================
      // MULTI-STEP FORM WIZARD
      // ============================================
      let currentStep = 1;
      const totalSteps = 3;
      const stepLabels = ['Dein Ziel', 'Kontaktdaten', 'Details'];
      const stepNames = ['goal', 'contact', 'details'];

      // Form elements
      const form = document.getElementById('application-form') as HTMLFormElement;
      const nextStepBtn = document.getElementById('next-step-btn');
      const prevStepBtn = document.getElementById('prev-step-btn');
      const nextBtnText = document.getElementById('next-btn-text');
      const nextBtnArrow = document.getElementById('next-btn-arrow');
      const submitLoading = document.getElementById('submit-loading');
      const progressBar = document.getElementById('progress-bar');
      const currentStepNum = document.getElementById('current-step-num');
      const stepLabel = document.getElementById('step-label');
      const phoneInput = document.getElementById('phone-input') as HTMLInputElement;
      const phoneError = document.getElementById('phone-error');

      // Step elements
      const formSteps = [
        document.getElementById('form-step-1'),
        document.getElementById('form-step-2'),
        document.getElementById('form-step-3')
      ];

      // ============================================
      // GRANULAR FORM TRACKING SYSTEM
      // ============================================
      const formTracking = {
        formOpenTime: 0,
        stepEnterTime: 0,
        stepTimes: { 1: 0, 2: 0, 3: 0 } as Record<number, number>,
        filledFields: [] as string[],
        maxStepReached: 0,
        stepsCompleted: { 1: false, 2: false, 3: false } as Record<number, boolean>,
        isFormOpen: false,

        // Get session info from sessionStorage (set by MetaPixelTracker)
        getSessionInfo() {
          return {
            session_id: sessionStorage.getItem('meta_session_id') || '',
            visitor_id: localStorage.getItem('meta_visitor_id') || '',
            device_type: window.innerWidth < 768 ? 'mobile' : window.innerWidth < 1024 ? 'tablet' : 'desktop',
            utm_source: sessionStorage.getItem('utm_source') || null,
            utm_medium: sessionStorage.getItem('utm_medium') || null,
          };
        },

        // Send event to API
        async sendEvent(eventData: Record<string, any>) {
          try {
            const sessionInfo = this.getSessionInfo();
            await fetch('/api/lp-form-event', {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({
                ...sessionInfo,
                ...eventData,
                time_since_form_open_ms: this.formOpenTime > 0 ? Date.now() - this.formOpenTime : 0,
              })
            });
            console.log(`[FormTracking] ${eventData.event_type}: step=${eventData.step_number || '-'}, field=${eventData.field_name || '-'}`);
          } catch (e) {
            console.error('[FormTracking] Error:', e);
          }
        },

        // Called when form modal opens
        onFormOpen() {
          this.formOpenTime = Date.now();
          this.stepEnterTime = Date.now();
          this.isFormOpen = true;
          this.maxStepReached = 1;

          this.sendEvent({
            event_type: 'step_enter',
            step_number: 1,
            step_name: stepNames[0],
            time_on_current_step_ms: 0,
          });
        },

        // Called when entering a new step
        onStepEnter(step: number) {
          // Record time spent on previous step
          if (this.stepEnterTime > 0 && currentStep !== step) {
            const timeOnPrevStep = Date.now() - this.stepEnterTime;
            this.stepTimes[currentStep] = (this.stepTimes[currentStep] || 0) + timeOnPrevStep;

            this.sendEvent({
              event_type: 'step_exit',
              step_number: currentStep,
              step_name: stepNames[currentStep - 1],
              time_on_current_step_ms: timeOnPrevStep,
            });
          }

          // Start timing new step
          this.stepEnterTime = Date.now();
          if (step > this.maxStepReached) {
            this.maxStepReached = step;
          }

          this.sendEvent({
            event_type: 'step_enter',
            step_number: step,
            step_name: stepNames[step - 1],
            time_on_current_step_ms: 0,
          });
        },

        // Called when completing a step (clicking Weiter)
        onStepComplete(step: number) {
          const timeOnStep = Date.now() - this.stepEnterTime;
          this.stepTimes[step] = (this.stepTimes[step] || 0) + timeOnStep;
          this.stepsCompleted[step] = true;

          this.sendEvent({
            event_type: 'step_complete',
            step_number: step,
            step_name: stepNames[step - 1],
            time_on_current_step_ms: timeOnStep,
            update_session_summary: true,
            form_max_step_reached: this.maxStepReached,
            form_step_1_completed: this.stepsCompleted[1],
            form_step_2_completed: this.stepsCompleted[2],
            form_step_3_completed: this.stepsCompleted[3],
            form_time_step_1_ms: this.stepTimes[1],
            form_time_step_2_ms: this.stepTimes[2],
            form_time_step_3_ms: this.stepTimes[3],
            form_total_time_ms: Date.now() - this.formOpenTime,
            form_fields_filled: this.filledFields,
          });
        },

        // Called when a validation error occurs
        onValidationError(fieldName: string, errorType: string, errorMessage: string) {
          this.sendEvent({
            event_type: 'field_validation_error',
            step_number: currentStep,
            step_name: stepNames[currentStep - 1],
            field_name: fieldName,
            time_on_current_step_ms: Date.now() - this.stepEnterTime,
            validation_error_field: fieldName,
            validation_error_type: errorType,
            validation_error_message: errorMessage,
          });
        },

        // Called when field receives focus
        onFieldFocus(fieldName: string, fieldType: string) {
          this.sendEvent({
            event_type: 'field_focus',
            step_number: currentStep,
            step_name: stepNames[currentStep - 1],
            field_name: fieldName,
            field_type: fieldType,
            time_on_current_step_ms: Date.now() - this.stepEnterTime,
          });
        },

        // Called when field loses focus
        onFieldBlur(fieldName: string, fieldType: string, value: string) {
          const isFilled = value.trim().length > 0;

          if (isFilled && !this.filledFields.includes(fieldName)) {
            this.filledFields.push(fieldName);
          }

          this.sendEvent({
            event_type: 'field_blur',
            step_number: currentStep,
            step_name: stepNames[currentStep - 1],
            field_name: fieldName,
            field_type: fieldType,
            field_filled: isFilled,
            field_value_length: value.length,
            time_on_current_step_ms: Date.now() - this.stepEnterTime,
          });
        },

        // Called when radio/checkbox is selected
        onFieldChange(fieldName: string, fieldType: string, value: string) {
          if (!this.filledFields.includes(fieldName)) {
            this.filledFields.push(fieldName);
          }

          this.sendEvent({
            event_type: 'field_change',
            step_number: currentStep,
            step_name: stepNames[currentStep - 1],
            field_name: fieldName,
            field_type: fieldType,
            field_filled: true,
            field_value_length: value.length,
            time_on_current_step_ms: Date.now() - this.stepEnterTime,
          });
        },

        // Called when form is abandoned (modal closed without submit)
        onFormAbandon() {
          if (!this.isFormOpen) return;

          const timeOnCurrentStep = Date.now() - this.stepEnterTime;
          this.stepTimes[currentStep] = (this.stepTimes[currentStep] || 0) + timeOnCurrentStep;

          this.sendEvent({
            event_type: 'form_abandon',
            step_number: currentStep,
            step_name: stepNames[currentStep - 1],
            time_on_current_step_ms: timeOnCurrentStep,
            update_session_summary: true,
            form_max_step_reached: this.maxStepReached,
            form_abandonment_step: currentStep,
            form_step_1_completed: this.stepsCompleted[1],
            form_step_2_completed: this.stepsCompleted[2],
            form_step_3_completed: this.stepsCompleted[3],
            form_time_step_1_ms: this.stepTimes[1],
            form_time_step_2_ms: this.stepTimes[2],
            form_time_step_3_ms: this.stepTimes[3],
            form_total_time_ms: Date.now() - this.formOpenTime,
            form_fields_filled: this.filledFields,
          });

          this.reset();
        },

        // Called when form is submitted
        onFormSubmit() {
          const timeOnCurrentStep = Date.now() - this.stepEnterTime;
          this.stepTimes[currentStep] = (this.stepTimes[currentStep] || 0) + timeOnCurrentStep;
          this.stepsCompleted[3] = true;

          this.sendEvent({
            event_type: 'form_submit',
            step_number: 3,
            step_name: stepNames[2],
            time_on_current_step_ms: timeOnCurrentStep,
            update_session_summary: true,
            form_max_step_reached: 3,
            form_step_1_completed: true,
            form_step_2_completed: true,
            form_step_3_completed: true,
            form_time_step_1_ms: this.stepTimes[1],
            form_time_step_2_ms: this.stepTimes[2],
            form_time_step_3_ms: this.stepTimes[3],
            form_total_time_ms: Date.now() - this.formOpenTime,
            form_fields_filled: this.filledFields,
          });

          this.reset();
        },

        // Reset tracking state
        reset() {
          this.formOpenTime = 0;
          this.stepEnterTime = 0;
          this.stepTimes = { 1: 0, 2: 0, 3: 0 };
          this.filledFields = [];
          this.maxStepReached = 0;
          this.stepsCompleted = { 1: false, 2: false, 3: false };
          this.isFormOpen = false;
        }
      };

      // ============================================
      // ATTACH FIELD TRACKING LISTENERS
      // ============================================
      function attachFieldListeners() {
        // Text inputs (firstName, lastName, email, phone, motivation)
        const textInputs = form.querySelectorAll('input[type="text"], input[type="email"], input[type="tel"], textarea');
        textInputs.forEach((input) => {
          const el = input as HTMLInputElement | HTMLTextAreaElement;
          const fieldName = el.name;
          const fieldType = el.type || 'textarea';

          el.addEventListener('focus', () => {
            forensicTracking.onFirstInteraction('field_focus');
            formTracking.onFieldFocus(fieldName, fieldType);
          });
          el.addEventListener('blur', () => formTracking.onFieldBlur(fieldName, fieldType, el.value));
        });

        // Radio buttons
        const radioInputs = form.querySelectorAll('input[type="radio"]');
        radioInputs.forEach((input) => {
          const el = input as HTMLInputElement;
          el.addEventListener('change', () => {
            if (el.checked) {
              forensicTracking.onFirstInteraction('selection');
              formTracking.onFieldChange(el.name, 'radio', el.value);
            }
          });
        });
      }

      // Attach listeners after DOM ready
      attachFieldListeners();

      // Track form progress for analytics (legacy event for LPUserBehaviorTracker)
      function trackFormProgress(step: number, action: 'view' | 'complete' | 'abandon') {
        const filledFields = getFilledFieldsCount();
        window.dispatchEvent(new CustomEvent('form_step_progress', {
          detail: {
            step,
            stepLabel: stepLabels[step - 1],
            action,
            totalSteps,
            filledFieldsCount: filledFields.count,
            filledFields: filledFields.fields
          }
        }));
      }

      // Count filled fields for tracking
      function getFilledFieldsCount(): { count: number; fields: string[] } {
        const fields: string[] = [];
        const formData = new FormData(form);

        // Check each field
        if (formData.get('q_goal')) fields.push('goal');
        if (formData.get('q_time_commitment')) fields.push('time_commitment');
        if (formData.get('firstName')) fields.push('firstName');
        if (formData.get('lastName')) fields.push('lastName');
        if (formData.get('email')) fields.push('email');
        if (formData.get('phone')) fields.push('phone');
        if (formData.get('q_knowledge_level')) fields.push('knowledge_level');
        if (formData.get('motivation')) fields.push('motivation');

        return { count: fields.length, fields };
      }

      // Validate current step
      function validateStep(step: number): boolean {
        let hasErrors = false;

        if (step === 1) {
          const goal = form.querySelector('input[name="q_goal"]:checked');
          const time = form.querySelector('input[name="q_time_commitment"]:checked');

          if (!goal) {
            formTracking.onValidationError('q_goal', 'required', 'Bitte wähle dein Ziel aus');
            hasErrors = true;
          }
          if (!time) {
            formTracking.onValidationError('q_time_commitment', 'required', 'Bitte wähle deinen Zeitaufwand aus');
            hasErrors = true;
          }
          return !hasErrors;
        } else if (step === 2) {
          const firstName = (form.querySelector('input[name="firstName"]') as HTMLInputElement)?.value?.trim();
          const lastName = (form.querySelector('input[name="lastName"]') as HTMLInputElement)?.value?.trim();
          const email = (form.querySelector('input[name="email"]') as HTMLInputElement)?.value?.trim();
          const phone = phoneInput?.value?.trim();

          // Track missing required fields
          if (!firstName) {
            formTracking.onValidationError('firstName', 'required', 'Vorname ist erforderlich');
            hasErrors = true;
          }
          if (!lastName) {
            formTracking.onValidationError('lastName', 'required', 'Nachname ist erforderlich');
            hasErrors = true;
          }

          // Basic email validation
          if (!email) {
            formTracking.onValidationError('email', 'required', 'E-Mail ist erforderlich');
            hasErrors = true;
          } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
            formTracking.onValidationError('email', 'format', 'Ungültiges E-Mail-Format');
            hasErrors = true;
          }

          // Phone validation (at least 6 digits)
          const phoneDigits = phone?.replace(/\D/g, '') || '';
          const phoneValid = phoneDigits.length >= 6;

          if (!phone) {
            formTracking.onValidationError('phone', 'required', 'Telefonnummer ist erforderlich');
            hasErrors = true;
          } else if (!phoneValid) {
            formTracking.onValidationError('phone', 'format', 'Ungültige Telefonnummer (min. 6 Ziffern)');
            phoneError?.classList.remove('hidden');
            hasErrors = true;
          } else {
            phoneError?.classList.add('hidden');
          }

          return !hasErrors;
        } else if (step === 3) {
          // Step 3 is optional, always valid
          return true;
        }
        return true;
      }

      // Update UI for current step
      function updateStepUI() {
        // Update step number and labels
        if (currentStepNum) currentStepNum.textContent = String(currentStep);
        if (stepLabel) stepLabel.textContent = stepLabels[currentStep - 1];

        // Update mobile step label
        const stepLabelMobile = document.getElementById('step-label-mobile');
        if (stepLabelMobile) stepLabelMobile.textContent = stepLabels[currentStep - 1];

        // Update step indicators (circles)
        for (let i = 1; i <= totalSteps; i++) {
          const indicator = document.getElementById(`step-indicator-${i}`);
          if (indicator) {
            if (i < currentStep) {
              // Completed step
              indicator.className = 'w-8 h-8 rounded-full bg-green-500 flex items-center justify-center text-sm font-bold text-white';
              indicator.innerHTML = '<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/></svg>';
            } else if (i === currentStep) {
              // Current step
              indicator.className = 'w-8 h-8 rounded-full bg-swiss-orange flex items-center justify-center text-sm font-bold text-white shadow-lg shadow-swiss-orange/30';
              indicator.innerHTML = String(i);
            } else {
              // Future step
              indicator.className = 'w-8 h-8 rounded-full bg-white/10 flex items-center justify-center text-sm font-medium text-gray-500';
              indicator.innerHTML = String(i);
            }
          }

          // Update connecting lines
          if (i < totalSteps) {
            const line = document.getElementById(`step-line-${i}`);
            if (line) {
              if (i < currentStep) {
                line.className = 'w-8 sm:w-12 h-0.5 bg-green-500 transition-colors';
              } else {
                line.className = 'w-8 sm:w-12 h-0.5 bg-white/10 transition-colors';
              }
            }
          }
        }

        // Show/hide steps
        formSteps.forEach((stepEl, index) => {
          if (stepEl) {
            if (index + 1 === currentStep) {
              stepEl.classList.remove('hidden');
            } else {
              stepEl.classList.add('hidden');
            }
          }
        });

        // Show/hide back button
        if (prevStepBtn) {
          if (currentStep === 1) {
            prevStepBtn.classList.add('hidden');
          } else {
            prevStepBtn.classList.remove('hidden');
          }
        }

        // Update next button text
        if (nextBtnText && nextBtnArrow) {
          if (currentStep === totalSteps) {
            nextBtnText.textContent = 'Bewerbung absenden';
            nextBtnArrow.classList.add('hidden');
          } else {
            nextBtnText.textContent = 'Weiter';
            nextBtnArrow.classList.remove('hidden');
          }
        }

        // Track step view
        trackFormProgress(currentStep, 'view');
      }

      // Go to next step
      function goToNextStep() {
        if (!validateStep(currentStep)) {
          // Shake button to indicate error
          nextStepBtn?.classList.add('animate-shake');
          setTimeout(() => nextStepBtn?.classList.remove('animate-shake'), 500);
          return;
        }

        // Track step completion (legacy + granular)
        trackFormProgress(currentStep, 'complete');
        formTracking.onStepComplete(currentStep);

        if (currentStep < totalSteps) {
          const nextStep = currentStep + 1;
          formTracking.onStepEnter(nextStep);
          currentStep = nextStep;
          updateStepUI();
        } else {
          // Submit the form
          submitForm();
        }
      }

      // Go to previous step
      function goToPrevStep() {
        if (currentStep > 1) {
          formTracking.onStepEnter(currentStep - 1);
          currentStep--;
          updateStepUI();
        }
      }

      // Phone input formatting
      if (phoneInput) {
        phoneInput.addEventListener('input', (e) => {
          let value = (e.target as HTMLInputElement).value;
          // Remove non-digits except spaces
          value = value.replace(/[^\d\s]/g, '');
          // Limit length
          if (value.replace(/\s/g, '').length > 15) {
            value = value.slice(0, -1);
          }
          (e.target as HTMLInputElement).value = value;
          phoneError?.classList.add('hidden');
        });
      }

      // Event listeners for step navigation
      nextStepBtn?.addEventListener('click', goToNextStep);
      prevStepBtn?.addEventListener('click', goToPrevStep);

      // Track form abandonment on modal close
      function resetFormAndTrack() {
        if (currentStep > 0 && !form.classList.contains('hidden')) {
          trackFormProgress(currentStep, 'abandon');
          // Granular abandon tracking
          formTracking.onFormAbandon();
        }
        // Reset form state
        currentStep = 1;
        updateStepUI();
        form.reset();
        form.classList.remove('hidden');
      }

      // Override close modal button to also reset form
      const closeModalBtn = document.getElementById('close-modal');
      closeModalBtn?.addEventListener('click', resetFormAndTrack);

      // Also track on backdrop click and escape key (already handled by hideModal)
      modalBackdrop?.addEventListener('click', resetFormAndTrack);
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && !modal?.classList.contains('hidden')) {
          resetFormAndTrack();
        }
      });

      // Initialize step UI
      updateStepUI();

      // ============================================
      // CALENDAR BOOKING SYSTEM
      // ============================================
      let currentApplicationId: string | null = null;
      let availableSlots: Record<string, Array<{date: string, time: string, datetime: string}>> = {};
      let selectedSlot: {date: string, time: string, datetime: string} | null = null;
      let currentWeekOffset = 0;

      // Calendar elements
      const calendarBookingStep = document.getElementById('calendar-booking-step');
      const calendarLoading = document.getElementById('calendar-loading');
      const calendarWidget = document.getElementById('calendar-widget');
      const calendarError = document.getElementById('calendar-error');
      const calendarErrorText = document.getElementById('calendar-error-text');
      const retryCalendar = document.getElementById('retry-calendar');
      const daysContainer = document.getElementById('days-container');
      const slotsContainer = document.getElementById('slots-container');
      const selectDayHint = document.getElementById('select-day-hint');
      const selectedSlotDisplay = document.getElementById('selected-slot-display');
      const selectedSlotText = document.getElementById('selected-slot-text');
      const confirmBooking = document.getElementById('confirm-booking');
      const bookingLoading = document.getElementById('booking-loading');
      const bookingConfirmed = document.getElementById('booking-confirmed');
      const confirmedDatetime = document.getElementById('confirmed-datetime');
      const weekLabel = document.getElementById('week-label');
      const prevWeekBtn = document.getElementById('prev-week');
      const nextWeekBtn = document.getElementById('next-week');

      // German day names
      const dayNames = ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'];
      const monthNames = ['Jan', 'Feb', 'Mär', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez'];

      // Load available slots from API
      async function loadAvailableSlots() {
        calendarLoading?.classList.remove('hidden');
        calendarWidget?.classList.add('hidden');
        calendarError?.classList.add('hidden');

        try {
          const response = await fetch('/api/available-slots?days=14');
          if (!response.ok) throw new Error('Failed to load slots');

          const data = await response.json();
          availableSlots = data.slotsByDate || {};

          calendarLoading?.classList.add('hidden');
          calendarWidget?.classList.remove('hidden');

          renderCalendar();
        } catch (error) {
          console.error('Error loading slots:', error);
          calendarLoading?.classList.add('hidden');
          calendarError?.classList.remove('hidden');
          if (calendarErrorText) {
            calendarErrorText.textContent = 'Termine konnten nicht geladen werden. Bitte versuche es erneut.';
          }
        }
      }

      // Render calendar days
      function renderCalendar() {
        if (!daysContainer) return;

        const today = new Date();
        const startDate = new Date(today);
        startDate.setDate(startDate.getDate() + (currentWeekOffset * 7));

        // Find next Monday if we're not on one
        while (startDate.getDay() !== 1) {
          startDate.setDate(startDate.getDate() + 1);
        }

        // Update week label
        const endDate = new Date(startDate);
        endDate.setDate(endDate.getDate() + 4);
        if (weekLabel) {
          weekLabel.textContent = `${startDate.getDate()}. ${monthNames[startDate.getMonth()]} - ${endDate.getDate()}. ${monthNames[endDate.getMonth()]}`;
        }

        // Update navigation buttons
        if (prevWeekBtn) {
          (prevWeekBtn as HTMLButtonElement).disabled = currentWeekOffset === 0;
        }

        daysContainer.innerHTML = '';

        // Render Mon-Fri
        for (let i = 0; i < 5; i++) {
          const date = new Date(startDate);
          date.setDate(date.getDate() + i);
          const dateStr = date.toISOString().split('T')[0];
          const slotsForDay = availableSlots[dateStr] || [];
          const hasSlots = slotsForDay.length > 0;

          const dayBtn = document.createElement('button');
          dayBtn.type = 'button';
          dayBtn.className = `p-3 border rounded text-center transition-colors ${
            hasSlots
              ? 'border-white/10 hover:border-swiss-orange cursor-pointer'
              : 'border-white/5 opacity-40 cursor-not-allowed'
          }`;
          dayBtn.disabled = !hasSlots;
          dayBtn.dataset.date = dateStr;
          dayBtn.innerHTML = `
            <div class="text-xs text-gray-400">${dayNames[date.getDay()]}</div>
            <div class="text-lg font-bold text-white">${date.getDate()}</div>
            <div class="text-xs ${hasSlots ? 'text-swiss-orange' : 'text-gray-600'}">${hasSlots ? slotsForDay.length + ' frei' : '-'}</div>
          `;

          if (hasSlots) {
            dayBtn.addEventListener('click', () => selectDay(dateStr, dayBtn));
          }

          daysContainer.appendChild(dayBtn);
        }
      }

      // Select a day and show time slots
      function selectDay(dateStr: string, btnElement: HTMLElement) {
        // Update button styles
        daysContainer?.querySelectorAll('button').forEach(btn => {
          btn.classList.remove('border-swiss-orange', 'bg-swiss-orange/10');
        });
        btnElement.classList.add('border-swiss-orange', 'bg-swiss-orange/10');

        // Hide hint, show slots
        selectDayHint?.classList.add('hidden');

        const slots = availableSlots[dateStr] || [];
        if (!slotsContainer) return;

        slotsContainer.innerHTML = '';

        slots.forEach(slot => {
          const slotBtn = document.createElement('button');
          slotBtn.type = 'button';
          slotBtn.className = 'w-full p-3 bg-black border border-white/10 hover:border-swiss-orange text-white text-center transition-colors';
          slotBtn.textContent = slot.time + ' Uhr';
          slotBtn.addEventListener('click', () => selectTimeSlot(slot));
          slotsContainer.appendChild(slotBtn);
        });
      }

      // Select a time slot
      function selectTimeSlot(slot: {date: string, time: string, datetime: string}) {
        selectedSlot = slot;

        // Format display
        const date = new Date(slot.datetime);
        const dayName = ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'][date.getDay()];
        const displayText = `${dayName}, ${date.getDate()}. ${monthNames[date.getMonth()]} um ${slot.time} Uhr`;

        if (selectedSlotText) selectedSlotText.textContent = displayText;
        selectedSlotDisplay?.classList.remove('hidden');

        // Highlight selected slot
        slotsContainer?.querySelectorAll('button').forEach(btn => {
          if (btn.textContent === slot.time + ' Uhr') {
            btn.classList.add('border-swiss-orange', 'bg-swiss-orange/10');
          } else {
            btn.classList.remove('border-swiss-orange', 'bg-swiss-orange/10');
          }
        });
      }

      // Confirm booking
      async function confirmBookingHandler() {
        if (!selectedSlot || !currentApplicationId) return;

        selectedSlotDisplay?.classList.add('hidden');
        bookingLoading?.classList.remove('hidden');

        try {
          const response = await fetch('/api/book-appointment', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
              applicationId: currentApplicationId,
              datetime: selectedSlot.datetime
            })
          });

          const result = await response.json();

          if (response.ok && result.success) {
            // Track: Calendar booked
            (window as any).dataLayer = (window as any).dataLayer || [];
            (window as any).dataLayer.push({
              event: 'calendar_booked',
              application_id: currentApplicationId,
              appointment_datetime: result.appointment.datetime
            });

            // Meta Pixel: Schedule Event
            window.dispatchEvent(new CustomEvent('meta_schedule', {
              detail: {
                applicationId: currentApplicationId,
                appointmentDatetime: result.appointment.datetime
              }
            }));

            // Show confirmation
            calendarBookingStep?.classList.add('hidden');
            bookingConfirmed?.classList.remove('hidden');
            if (confirmedDatetime) {
              confirmedDatetime.textContent = result.appointment.formattedDate + ' um ' + result.appointment.formattedTime + ' Uhr';
            }
          } else {
            throw new Error(result.error || 'Booking failed');
          }
        } catch (error: any) {
          bookingLoading?.classList.add('hidden');
          selectedSlotDisplay?.classList.remove('hidden');
          alert(error.message || 'Fehler beim Buchen. Bitte versuche es erneut.');
        }
      }

      // Event listeners for calendar navigation
      prevWeekBtn?.addEventListener('click', () => {
        if (currentWeekOffset > 0) {
          currentWeekOffset--;
          selectedSlot = null;
          selectedSlotDisplay?.classList.add('hidden');
          selectDayHint?.classList.remove('hidden');
          if (slotsContainer) slotsContainer.innerHTML = '';
          slotsContainer?.appendChild(selectDayHint!);
          renderCalendar();
        }
      });

      nextWeekBtn?.addEventListener('click', () => {
        currentWeekOffset++;
        selectedSlot = null;
        selectedSlotDisplay?.classList.add('hidden');
        selectDayHint?.classList.remove('hidden');
        if (slotsContainer) slotsContainer.innerHTML = '';
        slotsContainer?.appendChild(selectDayHint!);
        renderCalendar();
      });

      confirmBooking?.addEventListener('click', confirmBookingHandler);
      retryCalendar?.addEventListener('click', loadAvailableSlots);

      // Form submission function (called from goToNextStep on step 3)
      async function submitForm() {
        // Track form submission (granular)
        formTracking.onFormSubmit();

        // Disable button and show loading
        if (nextStepBtn) nextStepBtn.setAttribute('disabled', 'true');
        if (nextBtnText) nextBtnText.classList.add('hidden');
        if (nextBtnArrow) nextBtnArrow.classList.add('hidden');
        submitLoading?.classList.remove('hidden');

        const formData = new FormData(form);

        // Build questionnaire answers with new schema
        const questionnaireAnswers = {
          goal: formData.get('q_goal'),                         // Single goal (Radio)
          time_commitment: formData.get('q_time_commitment'),   // yes/maybe
          knowledge_level: formData.get('q_knowledge_level') || 'anfaenger' // anfaenger/fortgeschritten/profi
        };

        // Format phone with +49 prefix
        let phone = formData.get('phone') as string;
        if (phone && !phone.startsWith('+')) {
          phone = '+49 ' + phone.replace(/^0+/, '');
        }

        const data = {
          firstName: formData.get('firstName'),
          lastName: formData.get('lastName'),
          email: formData.get('email'),
          phone: phone,
          program: 'gruppen_coaching',
          questionnaireAnswers,
          motivation: formData.get('motivation') || null,
          source: 'lp_coaching',
          formVersion: 'v2_multistep'  // Track which form version was used
        };

        try {
          // Get tracking data from sessionStorage
          const sessionId = sessionStorage.getItem('meta_session_id') || sessionStorage.getItem('lp_session_id');
          const utmSource = sessionStorage.getItem('utm_source');
          const utmMedium = sessionStorage.getItem('utm_medium');
          const utmCampaign = sessionStorage.getItem('utm_campaign');
          const fbclid = sessionStorage.getItem('fbclid');

          const headers: Record<string, string> = {
            'Content-Type': 'application/json'
          };
          if (sessionId) headers['x-session-id'] = sessionId;
          if (utmSource) headers['x-utm-source'] = utmSource;
          if (utmMedium) headers['x-utm-medium'] = utmMedium;
          if (utmCampaign) headers['x-utm-campaign'] = utmCampaign;
          if (fbclid) headers['x-fbclid'] = fbclid;

          const response = await fetch('/api/lp-application', {
            method: 'POST',
            headers,
            body: JSON.stringify(data)
          });

          const result = await response.json();

          if (response.ok && result.id) {
            currentApplicationId = result.id;

            // Track: Application submitted
            (window as any).dataLayer = (window as any).dataLayer || [];
            (window as any).dataLayer.push({
              event: 'apply_submit',
              application_id: result.id
            });

            // Meta Pixel: Lead Event
            window.dispatchEvent(new CustomEvent('meta_lead', {
              detail: { applicationId: result.id }
            }));

            form.classList.add('hidden');
            calendarBookingStep?.classList.remove('hidden');

            // Track: Calendar view
            (window as any).dataLayer.push({
              event: 'calendar_view',
              application_id: result.id
            });

            loadAvailableSlots();
          } else {
            throw new Error(result.error || 'Server error');
          }
        } catch (error) {
          alert('Es ist ein Fehler aufgetreten. Bitte versuche es später erneut.');
          // Re-enable button
          if (nextStepBtn) nextStepBtn.removeAttribute('disabled');
          if (nextBtnText) nextBtnText.classList.remove('hidden');
          if (nextBtnArrow) nextBtnArrow.classList.add('hidden'); // Keep hidden for submit button
          submitLoading?.classList.add('hidden');
        }
      }

      // Prevent default form submission (we handle it via button click)
      form?.addEventListener('submit', (e) => {
        e.preventDefault();
      });

      // Scroll reveal
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('revealed');
            observer.unobserve(entry.target);
          }
        });
      }, observerOptions);

      document.querySelectorAll('.scroll-reveal').forEach(el => {
        observer.observe(el);
      });
    </script>


    <!-- ============================================
         STYLES
         ============================================ -->
    <style>
      /* Gradient Radial */
      .bg-gradient-radial {
        background: radial-gradient(circle, var(--tw-gradient-from), var(--tw-gradient-to));
      }

      /* Shake Animation for validation errors */
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-4px); }
        20%, 40%, 60%, 80% { transform: translateX(4px); }
      }

      .animate-shake {
        animation: shake 0.5s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
      }

      /* Hero Fade In */
      @keyframes hero-fade-in {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .animate-hero-fade-in {
        animation: hero-fade-in 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
      }

      /* Gradient Shift */
      @keyframes gradient-shift {
        0%, 100% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
      }

      .animate-gradient-shift {
        background-size: 200% 200%;
        animation: gradient-shift 3s ease infinite;
      }

      /* Line Draw */
      @keyframes line-draw {
        from { transform: scaleX(0); }
        to { transform: scaleX(1); }
      }

      .animate-line-draw {
        transform-origin: left;
        animation: line-draw 1s ease-out forwards;
        animation-delay: 0.8s;
        transform: scaleX(0);
      }

      /* Orb Float */
      @keyframes orb-float {
        0%, 100% { transform: translateX(50%) translateY(0); }
        50% { transform: translateX(50%) translateY(-30px); }
      }

      .animate-orb-float {
        animation: orb-float 8s ease-in-out infinite;
      }

      .animate-orb-float-delayed {
        animation: orb-float 10s ease-in-out infinite;
        animation-delay: -4s;
      }

      /* Frame Pulse */
      @keyframes frame-pulse {
        0%, 100% { opacity: 0.3; }
        50% { opacity: 0.6; }
      }

      .animate-frame-pulse {
        animation: frame-pulse 4s ease-in-out infinite;
      }

      /* Float Slow */
      @keyframes float-slow {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
      }

      .animate-float-slow {
        animation: float-slow 4s ease-in-out infinite;
      }

      .animate-float-delayed {
        animation: float-slow 4s ease-in-out infinite;
        animation-delay: -2s;
      }

      /* Scroll Line */
      @keyframes scroll-line {
        0% { transform: scaleY(0); opacity: 1; }
        50% { transform: scaleY(1); opacity: 1; }
        100% { transform: scaleY(1); opacity: 0; }
      }

      .animate-scroll-line {
        transform-origin: top;
        animation: scroll-line 2s ease-in-out infinite;
      }

      /* Spin Slow */
      @keyframes spin-slow {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }

      .animate-spin-slow {
        animation: spin-slow 20s linear infinite;
      }

      .animate-spin-reverse {
        animation: spin-slow 15s linear infinite reverse;
      }

      /* Pulse Line */
      @keyframes pulse-line {
        0%, 100% { opacity: 0.3; }
        50% { opacity: 1; }
      }

      .animate-pulse-line {
        animation: pulse-line 2s ease-in-out infinite;
      }

      /* Pulse Slow */
      @keyframes pulse-slow {
        0%, 100% { opacity: 0.5; transform: scale(1); }
        50% { opacity: 0.8; transform: scale(1.05); }
      }

      .animate-pulse-slow {
        animation: pulse-slow 4s ease-in-out infinite;
      }

      /* Pulse Glow */
      @keyframes pulse-glow-strong {
        0%, 100% { box-shadow: 0 0 20px rgba(255, 79, 0, 0.4); }
        50% { box-shadow: 0 0 40px rgba(255, 79, 0, 0.6); }
      }

      .animate-pulse-glow {
        animation: pulse-glow-strong 2s ease-in-out infinite;
      }

      /* Scroll Bounce for indicator */
      @keyframes scroll-bounce {
        0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
        40% { transform: translateY(8px); }
        60% { transform: translateY(4px); }
      }

      .animate-scroll-bounce {
        animation: scroll-bounce 2s ease-in-out infinite;
      }

      /* Enhanced section glow */
      @keyframes section-glow {
        0%, 100% { opacity: 0.3; }
        50% { opacity: 0.6; }
      }

      .animate-section-glow {
        animation: section-glow 4s ease-in-out infinite;
      }

      /* Floating particles */
      @keyframes float-particle {
        0%, 100% { transform: translateY(0) translateX(0); opacity: 0.3; }
        25% { transform: translateY(-20px) translateX(10px); opacity: 0.6; }
        50% { transform: translateY(-10px) translateX(-5px); opacity: 0.4; }
        75% { transform: translateY(-30px) translateX(15px); opacity: 0.5; }
      }

      .animate-float-particle {
        animation: float-particle 8s ease-in-out infinite;
      }

      /* Glow wave */
      @keyframes glow-wave {
        0% { transform: translateX(-100%); opacity: 0; }
        50% { opacity: 0.5; }
        100% { transform: translateX(100%); opacity: 0; }
      }

      .animate-glow-wave {
        animation: glow-wave 4s ease-in-out infinite;
      }

      /* Scroll Reveal */
      .scroll-reveal {
        opacity: 0;
        transform: translateY(40px);
        transition: opacity 0.8s cubic-bezier(0.16, 1, 0.3, 1), transform 0.8s cubic-bezier(0.16, 1, 0.3, 1);
      }

      .scroll-reveal.revealed {
        opacity: 1;
        transform: translateY(0);
      }

      .scroll-reveal[style*="animation-delay: 0.1s"] { transition-delay: 0.1s; }
      .scroll-reveal[style*="animation-delay: 0.2s"] { transition-delay: 0.2s; }
      .scroll-reveal[style*="animation-delay: 0.3s"] { transition-delay: 0.3s; }

      /* Custom scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }

      ::-webkit-scrollbar-track {
        background: #000;
      }

      ::-webkit-scrollbar-thumb {
        background: #333;
        border-radius: 0;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: #FF4F00;
      }

      /* ============================================
         REDUCED MOTION & ACCESSIBILITY
         ============================================ */

      @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
          scroll-behavior: auto !important;
        }
      }

      /* ============================================
         MOBILE-FIRST RESPONSIVE OVERRIDES
         ============================================ */

      /* Base Mobile Styles (< 640px) */
      @media (max-width: 639px) {
        /* Disable heavy background animations for performance */
        .animate-orb-float,
        .animate-orb-float-delayed,
        .animate-section-glow,
        .animate-float-particle,
        .animate-spin-slow,
        .animate-spin-reverse {
          animation: none !important;
        }

        /* Reduce blur for performance */
        .blur-3xl {
          filter: blur(40px) !important;
        }

        .blur-\\[120px\\],
        .blur-\\[100px\\] {
          filter: blur(60px) !important;
        }

        /* Reduce opacity for performance */
        .bg-gradient-radial {
          opacity: 0.15 !important;
        }
        /* Hero Section */
        .hero-headline {
          font-size: 2.5rem !important;
          line-height: 0.95 !important;
        }

        .hero-subheadline {
          font-size: 1.125rem !important;
        }

        /* Smaller orbs on mobile */
        .mobile-orb-small {
          width: 300px !important;
          height: 300px !important;
        }

        /* Hide scroll indicator on mobile */
        .scroll-indicator-mobile-hide {
          display: none !important;
        }

        /* Transformation cards - full width stacking */
        .transformation-card {
          margin-bottom: 1rem;
        }

        /* Smaller icons on mobile */
        .mobile-icon-container {
          width: 3.5rem !important;
          height: 3.5rem !important;
        }

        .mobile-icon-container svg {
          width: 1.75rem !important;
          height: 1.75rem !important;
        }

        /* Agent visualization - smaller on mobile */
        .agent-viz-mobile {
          height: 200px !important;
        }

        .agent-viz-mobile .central-node {
          width: 3.5rem !important;
          height: 3.5rem !important;
        }

        .agent-viz-mobile .orbit-ring {
          width: 140px !important;
          height: 140px !important;
        }

        .agent-viz-mobile .orbit-ring-inner {
          width: 100px !important;
          height: 100px !important;
        }

        .agent-viz-mobile .agent-node {
          width: 2rem !important;
          height: 2rem !important;
        }

        /* Timeline mobile - vertical layout */
        .timeline-mobile {
          gap: 1.5rem !important;
        }

        .timeline-mobile > div {
          text-align: left !important;
          display: flex !important;
          align-items: center !important;
          gap: 1rem !important;
        }

        .timeline-mobile .timeline-number {
          margin: 0 !important;
          flex-shrink: 0;
        }

        /* Quote section mobile */
        .quote-mobile {
          font-size: 1.25rem !important;
          padding: 1.5rem !important;
        }

        /* About section mobile */
        .about-stats-mobile {
          flex-direction: column !important;
          gap: 0.75rem !important;
        }

        .about-stats-mobile > div {
          width: 100% !important;
        }

        /* Modal mobile - full screen */
        .modal-content-mobile {
          width: 100% !important;
          max-width: 100% !important;
          height: 100vh !important;
          max-height: 100vh !important;
          border-radius: 0 !important;
          margin: 0 !important;
        }

        .modal-form-mobile {
          padding: 1.25rem !important;
        }

        /* CTA buttons - full width on mobile */
        .cta-mobile-full {
          width: 100% !important;
          justify-content: center !important;
        }

        /* Reduce animations on mobile for performance */
        .mobile-reduce-motion {
          animation-duration: 0.5s !important;
        }

        /* Touch-friendly tap targets */
        .mobile-tap-target {
          min-height: 48px !important;
          min-width: 48px !important;
        }

        /* Better spacing on mobile */
        .mobile-section-padding {
          padding-top: 4rem !important;
          padding-bottom: 4rem !important;
        }

        /* Fix horizontal overflow */
        .mobile-overflow-hidden {
          overflow-x: hidden !important;
        }
      }

      /* Small tablets (640px - 767px) */
      @media (min-width: 640px) and (max-width: 767px) {
        .hero-headline {
          font-size: 3rem !important;
        }

        .agent-viz-mobile {
          height: 250px !important;
        }
      }

      /* Tablets (768px - 1023px) */
      @media (min-width: 768px) and (max-width: 1023px) {
        .hero-headline {
          font-size: 3.5rem !important;
        }
      }

      /* Touch device optimizations */
      @media (hover: none) and (pointer: coarse) {
        /* Disable hover effects that don't work well on touch */
        .transformation-card:hover {
          transform: none !important;
        }

        /* Make hover effects permanent on touch */
        .transformation-card .absolute.inset-0.bg-gradient-to-r {
          opacity: 0.3 !important;
        }

        /* Larger touch targets */
        button, a {
          min-height: 44px;
        }
      }

      /* Landscape mobile */
      @media (max-width: 896px) and (orientation: landscape) {
        .hero-section-mobile {
          min-height: auto !important;
          padding-top: 2rem !important;
          padding-bottom: 2rem !important;
        }

        .hero-image-landscape {
          max-height: 50vh !important;
        }
      }

      /* Safe area for notched devices */
      @supports (padding: max(0px)) {
        .safe-area-padding {
          padding-left: max(1.5rem, env(safe-area-inset-left));
          padding-right: max(1.5rem, env(safe-area-inset-right));
          padding-bottom: max(1rem, env(safe-area-inset-bottom));
        }
      }
    </style>

    <!-- User Behavior Tracking -->
    <LPUserBehaviorTracker pagePath="/lp/coaching" client:load />

    <!-- Meta Pixel Tracking -->
    <MetaPixelTracker pagePath="/lp/coaching" client:load />
  </body>
</html>
